<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
     It will be read and overwritten.
     DO NOT EDIT! -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Bookmarks</title>
<style>
html {
	max-width: 60em;
	margin: auto;
	font-family: "Calibri", sans-serif;
}
dd > p {
	margin-top: 0;
	white-space: pre-wrap;
	line-height: 1.5;
}
a[shortcuturl]::after {
	content: " (keyword: " attr(shortcuturl) ")";
	display: inline-block;
	margin-left: 1em;
	font-family: "Consolas", monospace;
}
</style>
<h1>Bookmarks Menu</h1>

<dl>
<dt><h3>Jan Moesen's bookmarklets</h3></dt>
<dd><p>A collection of time-saving and life-enhancing (ahem) bookmarklets.

I like giving my bookmarklets keywords so I can use my location bar as a
command line. (If you speak Dutch, check out http://kak.be/phl.)

The bookmarklets are stored here as separate script files. You can copy and
paste them into your bookmarks manager, or import them wholesale using the
generated &quot;bookmarks.html&quot; file.

Feel free to fork and create pull requests: http://kak.be/bookmarklets

These bookmarks were exported on Fri, 2011/11/18 23:43:51 +0100.</p>
<dl><p>
	<dt><h3>Development</h3></dt>
	<dd><p>Tools to help development.</p>
	<dl><p>
	<dt><a href="javascript:(function b64() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:'), result, operation;if (s) {try {if (!s.trim().match(/^[A-Za-z0-9+/]+([A-Z][a-z]|[a-z][A-Z])[A-Za-z0-9+/]*={0,2}$/)) {throw 'I guess this should be encoded, rather than encoded.';}s = s.trim();result = atob(s);operation = 'decoded';}catch (e) {result = btoa(s);operation = 'encoded';}open('data:text/plain;charset=UTF-8,' + encodeURIComponent('The Base64 ' + operation + ' string of &quot;' + s + '&quot; is:\n\n' + result));}})();" add_date="1308256372" last_modified="1314697217" shortcuturl="b64">Base64</a></dt>
	<dd><p>Convert plain text to Base64 and back. It determines which conversion to do.</p></dd>
	<dt><a href="javascript:(function html() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your HTML snippet:');if (s) {location = 'data:text/html;charset=UTF-8,' + encodeURIComponent(s);}})();" add_date="1305576357" last_modified="1305576357" shortcuturl="html">View as HTML</a></dt>
	<dd><p>Render the specified or selected text as HTML.</p></dd>
	<dt><a href="javascript:(function len() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('String?');if (s) {var maxDisplayLength = 64;var displayString = s.length &gt; maxDisplayLength? s.substring(0, maxDisplayLength / 2) + '…' + s.substring(s.length - maxDisplayLength / 2 + 1): s;var numBytes = encodeURIComponent(s.replace(/[\x00-\x7F]/g, 'a')).replace(/%[0-9A-Fa-f]{2}/g, 'b').length;displayString = s.length === numBytes? 'The number of characters in the ASCII string &quot;' + displayString + '&quot; is: ': 'The number of characters in the non-ASCII string &quot;' + displayString + '&quot; (' + numBytes + ' bytes) is: ';prompt(displayString, s.length);}})();" add_date="1305529240" last_modified="1321656228" shortcuturl="len">Show length</a></dt>
	<dd><p>Show the length of the given string.</p></dd>
	<dt><a href="javascript:(function reconsole() {delete window.console;})();" add_date="1314696756" last_modified="1314696756" shortcuturl="reconsole">Re-console</a></dt>
	<dd><p>Restore window.console to its native state.</p></dd>
	<dt><a href="javascript:(function text() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text snippet:');if (s) {location = 'data:text/plain;charset=UTF-8,' + encodeURIComponent(s);}})();" add_date="1305664449" last_modified="1305664449" shortcuturl="text">View as text</a></dt>
	<dd><p>Render the specified or selected text as plain text.</p></dd>
	</dl>
	<dt><h3>Forms</h3></dt>
	<dd><p>Manipulate HTML forms.</p>
	<dl><p>
	<dt><a href="javascript:(function frmblank(document) {Array.prototype.slice.call(document.forms || document.getElementsByTagName('form')).forEach(function (form) {form.target = '_blank';Array.prototype.slice.call(form.querySelectorAll('input[type=&quot;submit&quot;], input[type=&quot;image&quot;], button:not([type]), button[type=&quot;submit&quot;]')).forEach(function (submit) {submit.parentNode.insertBefore(document.createTextNode(' [_blank]'), submit.nextSibling);});});try {Array.prototype.slice.call(document.querySelectorAll('frame, iframe, object[type^=&quot;text/html&quot;], object[type^=&quot;application/xhtml+xml&quot;]')).forEach(function (elem) {frmblank(elem.contentDocument);});} catch (e) {}})(document);" add_date="1304688279" last_modified="1308250852" shortcuturl="frmblank">Form _blank</a></dt>
	<dd><p>Make all forms open in a new window/tab.</p></dd>
	<dt><a href="javascript:(function frmget(document) {Array.prototype.slice.call(document.forms || document.getElementsByTagName('form')).forEach(function (form) {form.method = 'get';Array.prototype.slice.call(form.querySelectorAll('input[type=&quot;submit&quot;], input[type=&quot;image&quot;], button:not([type]), button[type=&quot;submit&quot;]')).forEach(function (submit) {submit.parentNode.insertBefore(document.createTextNode(' [GET]'), submit.nextSibling);});});try {Array.prototype.slice.call(document.querySelectorAll('frame, iframe, object[type^=&quot;text/html&quot;], object[type^=&quot;application/xhtml+xml&quot;]')).forEach(function (elem) {frmget(elem.contentDocument);});} catch (e) {}})(document);" add_date="1304688279" last_modified="1308250852" shortcuturl="frmget">Form GET</a></dt>
	<dd><p>Make all forms use GET.</p></dd>
	<dt><a href="javascript:(function frmpost(document) {Array.prototype.slice.call(document.forms || document.getElementsByTagName('form')).forEach(function (form) {form.method = 'post';Array.prototype.slice.call(form.querySelectorAll('input[type=&quot;submit&quot;], input[type=&quot;image&quot;], button:not([type]), button[type=&quot;submit&quot;]')).forEach(function (submit) {submit.parentNode.insertBefore(document.createTextNode(' [POST]'), submit.nextSibling);});});try {Array.prototype.slice.call(document.querySelectorAll('frame, iframe, object[type^=&quot;text/html&quot;], object[type^=&quot;application/xhtml+xml&quot;]')).forEach(function (elem) {frmpost(elem.contentDocument);});} catch (e) {}})(document);" add_date="1304688279" last_modified="1308250852" shortcuturl="frmpost">Form POST</a></dt>
	<dd><p>Make all forms use POST.</p></dd>
	<dt><a href="javascript:(function showpass(document) {Array.prototype.slice.call(document.querySelectorAll('input:not([type]), input[type=&quot;text&quot;], input[type=&quot;password&quot;]')).forEach(function (input) {if (input.type === 'password') {input.wasPassword = true;input.type = 'text';} else if (input.wasPassword) {input.type = 'password';}});try {Array.prototype.slice.call(document.querySelectorAll('frame, iframe, object[type^=&quot;text/html&quot;], object[type^=&quot;application/xhtml+xml&quot;]')).forEach(function (elem) {showpass(elem.contentDocument);});} catch (e) {}})(document);" add_date="1305295397" last_modified="1305295397" shortcuturl="showpass">Show passwords</a></dt>
	<dd><p>Convert password inputs to normal text inputs and back again.</p></dd>
	</dl>
	<dt><h3>Language</h3></dt>
	<dd><p>Dictionaries, translators, …</p>
	<dl><p>
		<dt><h3>Dictionaries</h3></dt>
		<dd><p></p>
		<dl><p>
		<dt><a href="javascript:(function dewikt() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://de.wiktionary.org/wiki/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="dewikt">German Wiktionary</a></dt>
		<dd><p>Look up the specified or selected text using German Wiktionary.</p></dd>
		<dt><a href="javascript:(function dict() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://dictionary.reference.com/browse/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="dict">Dictionary.com</a></dt>
		<dd><p>Look up the specified or selected text using Dictionary.com.</p></dd>
		<dt><a href="javascript:(function enwikt() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://en.wiktionary.org/wiki/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="enwikt">English Wiktionary</a></dt>
		<dd><p>Look up the specified or selected text using English Wiktionary.</p></dd>
		<dt><a href="javascript:(function frwikt() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://fr.wiktionary.org/wiki/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="frwikt">French Wiktionary</a></dt>
		<dd><p>Look up the specified or selected text using French Wiktionary.</p></dd>
		<dt><a href="javascript:(function mw() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://www.merriam-webster.com/wdictionary/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="mw">Merriam-Webster</a></dt>
		<dd><p>Look up the specified or selected text using Merriam-Webster.</p></dd>
		<dt><a href="javascript:(function nlwikt() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://nl.wiktionary.org/wiki/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="nlwikt">Dutch Wiktionary</a></dt>
		<dd><p>Look up the specified or selected text using Dutch Wiktionary.</p></dd>
		<dt><a href="javascript:(function thes() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://thesaurus.reference.com/browse/' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="thes">Thesaurus.com</a></dt>
		<dd><p>Look up the specified or selected text using Thesaurus.com.</p></dd>
		<dt><a href="javascript:(function ud() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://www.urbandictionary.com/define.php?term=' + encodeURIComponent(s);}})();" add_date="1306354325" last_modified="1306354325" shortcuturl="ud">Urban Dictionary</a></dt>
		<dd><p>Look up the specified or selected text using Urban Dictionary.</p></dd>
		<dt><a href="javascript:(function vd() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your text:');if (s) {location = 'http://www.vandale.nl/vandale/zoekService.do?selectedDictionary=nn&amp;selectedDictionaryName=Nederlands&amp;searchQuery=' + encodeURIComponent(s);}})();" add_date="1306354301" last_modified="1306354301" shortcuturl="vd">Van Dale</a></dt>
		<dd><p>Look up the specified or selected text using Van Dale.</p></dd>
		</dl>
		<dt><h3>Translators</h3></dt>
		<dd><p></p>
		<dl><p>
		<dt><a href="javascript:(function () {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || (location.protocol === 'file:' ? '' : location + '') || prompt('Please enter your text:');if (s) {location = s.match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)? 'http://translate.google.com/translate?sl=auto&amp;tl=de&amp;u=' + encodeURIComponent(s): 'http://translate.google.com/translate_t#auto|de|' + encodeURIComponent(s);}})();" add_date="1305837284" last_modified="1305874187" shortcuturl="2de">Translate to German</a></dt>
		<dd><p>Translate the specified or selected text or URL to German using Google.</p></dd>
		<dt><a href="javascript:(function () {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || (location.protocol === 'file:' ? '' : location + '') || prompt('Please enter your text:');if (s) {location = s.match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)? 'http://translate.google.com/translate?sl=auto&amp;tl=en&amp;u=' + encodeURIComponent(s): 'http://translate.google.com/translate_t#auto|en|' + encodeURIComponent(s);}})();" add_date="1305837263" last_modified="1305874187" shortcuturl="2en">Translate to English</a></dt>
		<dd><p>Translate the specified or selected text or URL to English using Google.</p></dd>
		<dt><a href="javascript:(function () {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || (location.protocol === 'file:' ? '' : location + '') || prompt('Please enter your text:');if (s) {location = s.match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)? 'http://translate.google.com/translate?sl=auto&amp;tl=es&amp;u=' + encodeURIComponent(s): 'http://translate.google.com/translate_t#auto|es|' + encodeURIComponent(s);}})();" add_date="1305837284" last_modified="1305874187" shortcuturl="2es">Translate to Spanish</a></dt>
		<dd><p>Translate the specified or selected text or URL to Spanish using Google.</p></dd>
		<dt><a href="javascript:(function () {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || (location.protocol === 'file:' ? '' : location + '') || prompt('Please enter your text:');if (s) {location = s.match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)? 'http://translate.google.com/translate?sl=auto&amp;tl=fr&amp;u=' + encodeURIComponent(s): 'http://translate.google.com/translate_t#auto|fr|' + encodeURIComponent(s);}})();" add_date="1305837284" last_modified="1305874187" shortcuturl="2fr">Translate to French</a></dt>
		<dd><p>Translate the specified or selected text or URL to French using Google.</p></dd>
		<dt><a href="javascript:(function () {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || (location.protocol === 'file:' ? '' : location + '') || prompt('Please enter your text:');if (s) {location = s.match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)? 'http://translate.google.com/translate?sl=auto&amp;tl=it&amp;u=' + encodeURIComponent(s): 'http://translate.google.com/translate_t#auto|it|' + encodeURIComponent(s);}})();" add_date="1305837284" last_modified="1305874187" shortcuturl="2it">Translate to Italian</a></dt>
		<dd><p>Translate the specified or selected text or URL to Italian using Google.</p></dd>
		<dt><a href="javascript:(function () {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || (location.protocol === 'file:' ? '' : location + '') || prompt('Please enter your text:');if (s) {location = s.match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)? 'http://translate.google.com/translate?sl=auto&amp;tl=nl&amp;u=' + encodeURIComponent(s): 'http://translate.google.com/translate_t#auto|nl|' + encodeURIComponent(s);}})();" add_date="1305837284" last_modified="1305874187" shortcuturl="2nl">Translate to Dutch</a></dt>
		<dd><p>Translate the specified or selected text or URL to Dutch using Google.</p></dd>
		</dl>
	</dl>
	<dt><h3>Navigation</h3></dt>
	<dd><p>Get around easier.</p>
	<dl><p>
	<dt><a href="javascript:(function back() {if (history.length &gt; 1) {history.back();window.setTimeout(goToReferrer, 250);} else {goToReferrer();}function goToReferrer() {if (document.referrer) {location = document.referrer;}}})();" add_date="1305487270" last_modified="1305487270" shortcuturl="back">Go back</a></dt>
	<dd><p>Go back to the previous page, or, failing that, to the referring page.</p></dd>
	<dt><a href="javascript:(function link() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '');if (s &amp;&amp; !s.match(/^\w+:/)) {s = 'http://' + s;}var root = document.createDocumentFragment().appendChild(document.createElement('html')),    titleText = s || (document.querySelector('title') &amp;&amp; document.querySelector('title').textContent || document.title).replace(/\s\s+/g, ' ').trim(),    originalIconLink = s || document.querySelector('link[rel*=&quot;icon&quot;]');root.innerHTML = '&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;link rel=&quot;icon&quot;&gt;&lt;style&gt;html { font-family: &quot;Calibri&quot;, sans-serif; } img { max-width: 32px; max-height: 32px; } textarea { width: 100%; padding: 1ex; border: 1px dotted grey; }&lt;/style&gt;&lt;body&gt;&lt;p&gt;&lt;img&gt; &lt;span&gt;&lt;a&gt;&lt;/a&gt;&lt;/span&gt;&lt;p&gt;Link code:&lt;br&gt;&lt;textarea rows=&quot;10&quot; cols=&quot;80&quot;&gt;&lt;/textarea&gt;';var title = root.querySelector('title'),    iconLink = root.querySelector('link'),    styleSheet = root.querySelector('style'),    iconImage = root.querySelector('img'),    link = root.querySelector('a'),    textarea = root.querySelector('textarea');link.href = s || location;link.textContent = title.textContent = s || titleText;var domain = (s &amp;&amp; link.hostname) || document.domain || location.hostname;if (titleText) {link.parentNode.insertBefore(document.createTextNode(' [' + (domain || link.hostname) + ']'), link.nextSibling);}if (document.referrer) {var viaLink = document.createElement('a');console.log(viaLink);viaLink.setAttribute('href', document.referrer);viaLink.textContent = viaLink.hostname || viaLink.href;link.parentNode.parentNode.appendChild(document.createTextNode(' (via '));link.parentNode.parentNode.appendChild(viaLink);link.parentNode.parentNode.appendChild(document.createTextNode(')'));}iconLink.href = iconImage.src = originalIconLink &amp;&amp; originalIconLink.href || 'http://www.google.com/s2/favicons?domain=' + (domain || link.hostname);textarea.textContent = 'Plain text:\n&quot;' + link.textContent + '&quot;: ' + link.href;textarea.textContent += '\n\nHTML:\n' + link.parentNode.innerHTML;textarea.textContent += '\n\nMarkdown:\n[' + link.textContent + '](' + link.href + ')';location = 'data:text/html;charset=UTF-8,' + encodeURIComponent(root.innerHTML);})();" add_date="1305323294" last_modified="1320267814" shortcuturl="link">Link this</a></dt>
	<dd><p>Show a minimal HTML page linking to the current page.</p></dd>
	<dt><a href="javascript:(function linktitles() {Array.prototype.slice.call(document.links).forEach(function (link) {if (link.title.indexOf(link.href) &lt; 0) {link.title = link.title? link.title + ' [' + link.href + ']': link.href;}});})();" add_date="1305973453" last_modified="1305973453" shortcuturl="linktitles">Add link titles</a></dt>
	<dd><p>Add the links' HREFs to their tooltips.</p></dd>
	<dt><a href="javascript:(function next() {var symbols = '&gt;&gt; » → ⇒',    keywords = ('Next next Newer newer Volgende volgende Nieuwer nieuwer Prochain prochain' + symbols).split(' '),    identifiers = 'next nextArticle nextPost nextLink'.split(' '),    monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],    selectors, newUrl;symbols = symbols.split(' ');selectors = ['link[rel=&quot;next&quot;][href], a[rel=&quot;next&quot;][href]'];keywords.forEach(function (text) {selectors.push('//a[@href][@href != &quot;#&quot;][not(starts-with(@href, &quot;javascript:&quot;))][contains(., &quot;' + text + '&quot;) and string-length(substring-before(., &quot;' + text + '&quot;)) &lt; 8]');});identifiers.forEach(function (idOrClass) {selectors.push('a#' + idOrClass);selectors.push('a.' + idOrClass);});function processSelectors(selectors) {function getLastXPathResult(result) {return result.snapshotItem(result.snapshotLength - 1);}for (var link, i = 0; i &lt; selectors.length; i++) {link = selectors[i].substring(0, 2) === '//'? getLastXPathResult(document.evaluate(selectors[i], document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null)): Array.prototype.slice.call(document.querySelectorAll(selectors[i])).pop();if (link) {window.console &amp;&amp; console.log('Next »: Matching selector: ' + selectors[i] + '\nFound link: ', link);return link.href;}}}if ((newUrl = processSelectors(selectors))) {location = newUrl;return;}var uri = location.pathname + location.search + location.hash, matches;var yearPattern = '20[0-9][0-9]',    monthPattern = monthNames.concat(['(?:0?[1-9])', '(?:1[012])']).join('|'),    dayPattern = '(?:' + ['3[01]', '[12][0-9]', '0?[1-9]'].join(')|(?:') + ')',    regexp = new RegExp('(.*?\\b)(' + yearPattern + ')([-/_.]?)(' + monthPattern + ')\\3(' + dayPattern + ')([^0-9].*)?$');if ((matches = uri.match(regexp))) {var prefix = matches[1], year = matches[2], separator = matches[3], month = matches[4], day = matches[5], suffix = matches[6] === undefined ? '' : matches[6];var newDate = new Date(Date.UTC(parseInt(year, 10),month.length === 3 ? monthNames.indexOf(month) : parseInt(month, 10) - 1,parseInt(day, 10)) + 24 * 60 * 60 * 1000);var newYear = newDate.getUTCFullYear(),    newMonth = month.length === 3 ? monthNames[newDate.getUTCMonth()] : newDate.getUTCMonth() + 1,    newDay = newDate.getUTCDate();if (newMonth &lt; 10 &amp;&amp; month.length === 2) {newMonth = '0' + newMonth;}if (newDay &lt; 10 &amp;&amp; day.length === 2) {newDay = '0' + newDay;}newUrl = prefix + newYear + separator + newMonth + separator + newDay + suffix;window.console &amp;&amp; console.log('Next »: Matching date in URL: ', [year, month, day], '\nCalculated URL: ', newUrl);location = newUrl;return;}if ((matches = uri.match(/(.*?)([0-9]+)([^0-9]*)$/))) {var number = parseInt(matches[2], 10), newNumber = number + 1;if (matches[2].substring(0, 1) === '0' &amp;&amp; (newNumber + '').length &lt; matches[2].length) {newNumber = (Math.pow(10, matches[2].length) + '').substring(1 + (newNumber + '').length) + newNumber;}newUrl = matches[1] + newNumber + matches[3];window.console &amp;&amp; console.log('Next »: Matching number in URL; going from ', matches[2], ' to ', newNumber, '\nCalculated URL: ', newUrl);location = newUrl;return;}selectors = [];keywords.forEach(function (text) {selectors.push('//a[@href][string(.) = &quot;&quot;][img[contains(@alt, &quot;' + text + '&quot;)]]');});symbols.forEach(function (text) {selectors.push('//*[contains(text(), &quot;' + text + '&quot;) and substring-after(text(), &quot;' + text + '&quot;) = &quot;&quot;]//preceding-sibling::a');});identifiers.forEach(function (idOrClass) {selectors.push('#' + idOrClass + ' &gt; a');selectors.push('.' + idOrClass + ' &gt; a');});keywords.forEach(function (text) {selectors.push('//a[@href][string(.) = &quot;&quot;][img[contains(@src, &quot;' + text + '&quot;)]]');});if ((newUrl = processSelectors(selectors))) {location = newUrl;return;}var numCycles = 0, originalTitle = document.title, icons = '◻ ◼'.split(' ');(function flash() {if (numCycles &lt; 6) {document.title = icons[numCycles % icons.length] + ' No next page? ' + icons[(numCycles + 1) % icons.length];window.setTimeout(flash, 500);} else {document.title = originalTitle;}numCycles++;})();})();" add_date="1305573563" last_modified="1320784664" shortcuturl="next">Next »</a></dt>
	<dd><p>Go to the next page. To do so, this bookmarklet will look:
- for &lt;link rel=&quot;next&quot;&gt; or &lt;a rel=&quot;next&quot;&gt;
- for links whose text contains &quot;Next&quot;, &quot;&gt;&gt;&quot;, etc.
  e.g. &lt;a href=&quot;/bla&quot;&gt;Next&lt;/a&gt;
- for links whose (or their parents') ID or class contains &quot;next&quot;
- at the URL to see if there is a date, and increases that
- at the URL to see if there is a number, and increases that
- for links whose next sibling's text contains &quot;Next&quot;, &quot;&gt;&gt;&quot;, etc.
  e.g. &lt;a href=&quot;/bla&quot;&gt;Whatever&lt;/a&gt; »</p></dd>
	<dt><a href="javascript:(function prev() {var symbols = '&lt;&lt; « ← ⇐',    keywords = ('Previous Prev previous prev Older older Vorige vorige Ouder ouder Précédent précédent ' + symbols).split(' '),    identifiers = 'prev previous prevArticle previousArticle prevPost previousPost prevLink previousLink'.split(' '),    monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],    selectors, newUrl;symbols = symbols.split(' ');selectors = ['link[rel=&quot;prev&quot;][href], a[rel=&quot;prev&quot;][href]'];keywords.forEach(function (text) {selectors.push('//a[@href][@href != &quot;#&quot;][not(starts-with(@href, &quot;javascript:&quot;))][contains(., &quot;' + text + '&quot;) and string-length(substring-before(., &quot;' + text + '&quot;)) &lt; 8]');});identifiers.forEach(function (idOrClass) {selectors.push('a#' + idOrClass);selectors.push('a.' + idOrClass);});function processSelectors(selectors) {function getLastXPathResult(result) {return result.snapshotItem(result.snapshotLength - 1);}for (var link, i = 0; i &lt; selectors.length; i++) {link = selectors[i].substring(0, 2) === '//'? getLastXPathResult(document.evaluate(selectors[i], document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null)): Array.prototype.slice.call(document.querySelectorAll(selectors[i])).pop();if (link) {window.console &amp;&amp; console.log('« Previous: Matching selector: ' + selectors[i] + '\nFound link: ', link);return link.href;}}}if ((newUrl = processSelectors(selectors))) {location = newUrl;return;}var uri = location.pathname + location.search + location.hash, matches;var yearPattern = '20[0-9][0-9]',    monthPattern = monthNames.concat(['(?:0?[1-9])', '(?:1[012])']).join('|'),    dayPattern = '(?:' + ['3[01]', '[12][0-9]', '0?[1-9]'].join(')|(?:') + ')',    regexp = new RegExp('(.*?\\b)(' + yearPattern + ')([-/_.]?)(' + monthPattern + ')\\3(' + dayPattern + ')([^0-9].*)?$');if ((matches = uri.match(regexp))) {var prefix = matches[1], year = matches[2], separator = matches[3], month = matches[4], day = matches[5], suffix = matches[6] === undefined ? '' : matches[6];var newDate = new Date(Date.UTC(parseInt(year, 10),month.length === 3 ? monthNames.indexOf(month) : parseInt(month, 10) - 1,parseInt(day, 10)) - 24 * 60 * 60 * 1000);var newYear = newDate.getUTCFullYear(),    newMonth = month.length === 3 ? monthNames[newDate.getUTCMonth()] : newDate.getUTCMonth() + 1,    newDay = newDate.getUTCDate();if (newMonth &lt; 10 &amp;&amp; month.length === 2) {newMonth = '0' + newMonth;}if (newDay &lt; 10 &amp;&amp; day.length === 2) {newDay = '0' + newDay;}newUrl = prefix + newYear + separator + newMonth + separator + newDay + suffix;window.console &amp;&amp; console.log('« Previous: Matching date in URL: ', [year, month, day], '\nCalculated URL: ', newUrl);location = newUrl;return;}if ((matches = uri.match(/(.*?)([0-9]+)([^0-9]*)$/))) {var number = parseInt(matches[2], 10), newNumber = number - 1;if (matches[2].substring(0, 1) === '0' &amp;&amp; (newNumber + '').length &lt; matches[2].length) {newNumber = (Math.pow(10, matches[2].length) + '').substring(1 + (newNumber + '').length) + newNumber;}newUrl = matches[1] + newNumber + matches[3];window.console &amp;&amp; console.log('« Previous: Matching number in URL; going from ', matches[2], ' to ', newNumber, '\nCalculated URL: ', newUrl);location = newUrl;return;}selectors = [];keywords.forEach(function (text) {selectors.push('//a[@href][string(.) = &quot;&quot;][img[contains(@alt, &quot;' + text + '&quot;)]]');});symbols.forEach(function (text) {selectors.push('//*[contains(text(), &quot;' + text + '&quot;) and substring-after(text(), &quot;' + text + '&quot;) = &quot;&quot;]//preceding-sibling::a');});identifiers.forEach(function (idOrClass) {selectors.push('#' + idOrClass + ' &gt; a');selectors.push('.' + idOrClass + ' &gt; a');});keywords.forEach(function (text) {selectors.push('//a[@href][string(.) = &quot;&quot;][img[contains(@src, &quot;' + text + '&quot;)]]');});if ((newUrl = processSelectors(selectors))) {location = newUrl;return;}var numCycles = 0, originalTitle = document.title, icons = '◻ ◼'.split(' ');(function flash() {if (numCycles &lt; 6) {document.title = icons[numCycles % icons.length] + ' No previous page? ' + icons[(numCycles + 1) % icons.length];window.setTimeout(flash, 500);} else {document.title = originalTitle;}numCycles++;})();})();" add_date="1305573563" last_modified="1320784664" shortcuturl="prev">« Previous</a></dt>
	<dd><p>Go to the previous page. To do so, this bookmarklet will look:
- for &lt;link rel=&quot;prev&quot;&gt; or &lt;a rel=&quot;prev&quot;&gt;
- for links whose text contains &quot;Previous&quot;, &quot;&gt;&gt;&quot;, etc.
  e.g. &lt;a href=&quot;/bla&quot;&gt;Previous&lt;/a&gt;
- for links whose (or their parents') ID or class contains &quot;prev&quot;
- at the URL to see if there is a date, and increases that
- at the URL to see if there is a number, and increases that
- for links whose previous sibling's text contains &quot;Previous&quot;, &quot;&gt;&gt;&quot;, etc.
  e.g. « &lt;a href=&quot;/bla&quot;&gt;Whatever&lt;/a&gt;</p></dd>
	<dt><a href="javascript:(function refer() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter the destination URL:', location);if (s) {location = s;}})();" add_date="1306052662" last_modified="1308257829" shortcuturl="refer">Surf with referrer</a></dt>
	<dd><p>Go to the specified or selected URL using the current page as the referrer.</p></dd>
	<dt><a href="javascript:(function rmq() {location.search &amp;&amp; (location = ('' + location).replace(/\?[^#]*/, ''));})();" add_date="1320783341" last_modified="1320783341" shortcuturl="rmq">Remove query</a></dt>
	<dd><p>Remove the query string from the current page's URL.</p></dd>
	<dt><a href="javascript:(function () {var parts = location.pathname.split('/');if (parts.length === 2) {parts[parts.length - 1] = '';} else if (parts[parts.length - 1] === '' ||           parts[parts.length - 1].match(/^(default|index)(\..*)?$/)) {parts[parts.length - 2] = parts.pop();} else {parts[parts.length - 1] = '';}location = parts.join('/');})();" add_date="1305486490" last_modified="1305486490" shortcuturl="..">Go up</a></dt>
	<dd><p>Go to the parent &quot;directory&quot;. Note that this function tries to be somewhat
smart about it:
- If the path ends in a slash, go to the parent directory.
- If the path looks like the default index, go to the parent directory and
  use the same filename.
- For all other paths, go to the containing directory.

For example:
- &quot;/foo/bar/baz/&quot; becomes &quot;/foo/bar/&quot;
- &quot;/foo/bar/baz/index.html&quot; becomes &quot;/foo/bar/index.html&quot;
- &quot;/foo/bar/baz&quot; becomes &quot;/foo/bar/&quot; (which in turn will become &quot;/foo/&quot;)</p></dd>
	</dl>
	<dt><h3>Search engines</h3></dt>
	<dd><p></p>
	<dl><p>
	<dt><a href="javascript:(function gc() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your URL:', location);if (s) {var url = 'http://webcache.googleusercontent.com/search?', words = s.split(' ');if (words[0] == 'html') {s = words.slice(1).join(' ');} else {url += 'strip=1&amp;';}location = url + 'q=cache:' + encodeURIComponent(s);}})();" add_date="1308257789" last_modified="1308257789" shortcuturl="gc">Google cache</a></dt>
	<dd><p>View the Google cached text for the specified URL.
Specify &quot;html&quot; as the first parameter to view the cached HTML.</p></dd>
	<dt><a href="javascript:(function img() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your query:');if (s) {var words = s.split(' '), matches;if (words[0].match(/^(\w+:(\/\/)?)?[^\s]+(\.[^\s])+/)){location = 'http://images.google.com/searchbyimage?safe=off&amp;biw=' + window.innerWidth + '&amp;bih=' + window.innerHeight + '&amp;image_url=' + encodeURIComponent(words[0]) + '&amp;q=' + encodeURIComponent(words.slice(1).join(' '));return;}var url = 'http://www.google.com/search?tbm=isch&amp;safe=off&amp;biw=' + window.innerWidth + '&amp;bih=' + window.innerHeight;if (words.length &gt; 1) {if (words[0] === 'wallpaper') {words[0] = screen.width + 'x' + screen.height;}if ((matches = words[0].match(/^=?([0-9]+)x([0-9]+)$/))) {url += '&amp;tbs=isz:ex,iszw:' + encodeURIComponent(matches[1]) + ',iszh:' + encodeURIComponent(matches[2]);words.shift();} else if ((matches = words[0].match(/^&gt;(([1-9][0-9]*)x([1-9][0-9]*)|qsvga|vga|svga|xga|(?:([1-9][0-9]*)mp))$/))) {var minWidth = matches[2] * 1, minHeight = matches[3] * 1, minMegapixels = matches[4] * 1;var resolutions = {'400x300': 'qsvga','640x480': 'vga','800x600': 'svga','1024x768': 'xga','1600x1200': '2mp','2272x1704': '4mp','2816x2112': '6mp','3264x2448': '8mp','3648x2736': '10mp','4096x3072': '12mp','4480x3360': '15mp','5120x3840': '20mp','7216x5412': '40mp','9600x7200': '70mp'};var size = matches[1];if (minWidth &amp;&amp; minHeight) {for (var dimensions in resolutions) {var width = dimensions.split('x')[0] * 1, height = dimensions.split('x')[1] * 1;if (minWidth &gt;= width &amp;&amp; minHeight &gt;= height) {size = resolutions[dimensions];}}} else if (minMegapixels) {for (var dimensions in resolutions) {var megapixels = parseInt(resolutions[dimensions], 10);if (minMegapixels &gt;= megapixels) {size = resolutions[dimensions];}}}url += '&amp;tbs=isz:lt,islt:' + encodeURIComponent(size);words.shift();}s = words.join(' ');}location = url + '&amp;q=' + encodeURIComponent(s);}})();" add_date="1306533220" last_modified="1314696421" shortcuturl="img">Google Images</a></dt>
	<dd><p>Search Google Images, optionally limiting to certain sizes using:
- &quot;wallpaper&quot; word to find images the size of your screen.
- &quot;640x480&quot; to find images with exactly those dimensions
- &quot;&gt;1600x1200&quot; to find images approximately larger than 1600x1200
- &quot;&gt;4mp&quot; to find images approximately larger than 4 megapixels (2272x1704)</p></dd>
	<dt><a href="javascript:(function wb() {var s = (&lt;&gt;&lt;![CDATA[%s]]&gt;&lt;/&gt; + '').replace(/\u0025s/, '') || getSelection() + '' || prompt('Please enter your URL:', location);if (s) {location = 'http://wayback.archive.org/web/' + s;}})();" add_date="1308257801" last_modified="1308257801" shortcuturl="wb">Wayback Machine</a></dt>
	<dd><p>View the Internet Archive Wayback Machine's latest cache for the specified URL.</p></dd>
	</dl>
	<dt><h3>Site-specific</h3></dt>
	<dd><p>Might as well turn these into Greasemonkey scripts one day.</p>
	<dl><p>
	<dt><a href="javascript:(function blogspot() {Array.prototype.slice.call(document.querySelectorAll('a[href*=&quot;bp.blogspot.com/&quot;][href*=&quot;-h/&quot;] &gt; img[src*=&quot;bp.blogspot.com/&quot;]:first-child:last-child')).forEach(function (img) {img.parentNode.href = img.parentNode.href.replace(/\/(s[0-9]+)-h\//, '/$1/');});})();" add_date="1306533475" last_modified="1306533475" shortcuturl="blogspot">Blogspot</a></dt>
	<dd><p>Link directly to blogspot.com images, instead of to an intermediate page.</p></dd>
	<dt><a href="javascript:(function tdwtf() {Array.prototype.slice.call(document.querySelectorAll('.ForumPostUserArea')).forEach(function (td) {td.rowSpan = 2;});document.head.appendChild(document.createElement('style')).textContent = '.ForumPostFooterArea, .ForumPostSignature {border-top: 1px dotted; font-size: smaller;}.ForumPostFooterArea li:empty {display: none;}.ForumPostUserContent {padding-right: 1em;}:visited, .ForumLastPost a {opacity: 0.25;}';})();" add_date="1306533777" last_modified="1306533777" shortcuturl="tdwtf">TDWTF</a></dt>
	<dd><p>Fix the forum for The Daily WTF after having applied Readable++.</p></dd>
	</dl>
<dt><a href="javascript:#!/usr/bin/js// (C)2002 Douglas Crockford// www.JSLint.com// Spidermonkey hacks by Andy Walker &lt;walkeraj[at]gmail[dot]com&quot;use strict&quot;;JSLINT = function() {    var adsafe_id, adsafe_may, adsafe_went, anonname, approved, atrule = {        'import': true,        media: true,        'font-face': true,        page: true    },    badbreak = {        ')': true,        ']': true,        '++': true,        '--': true    },    banned = {        apply: true,        'arguments': true,        call: true,        callee: true,        caller: true,        constructor: true,        'eval': true,        prototype: true,        unwatch: true,        valueOf: true,        watch: true    },    boolOptions = {        adsafe: true,        bitwise: true,        browser: true,        cap: true,        css: true,        debug: true,        eqeqeq: true,        evil: true,        forin: true,        fragment: true,        laxbreak: true,        nomen: true,        on: true,        onevar: true,        passfail: true,        plusplus: true,        regexp: true,        rhino: true,        undef: true,        safe: true,        sidebar: true,        strict: true,        sub: true,        white: true,        widget: true    },    browser = {        alert: true,        blur: true,        clearInterval: true,        clearTimeout: true,        close: true,        closed: true,        confirm: true,        console: true,        Debug: true,        defaultStatus: true,        document: true,        event: true,        focus: true,        frames: true,        getComputedStyle: true,        history: true,        Image: true,        length: true,        location: true,        moveBy: true,        moveTo: true,        name: true,        navigator: true,        onblur: true,        onerror: true,        onfocus: true,        onload: true,        onresize: true,        onunload: true,        open: true,        opener: true,        opera: true,        Option: true,        parent: true,        print: true,        prompt: true,        resizeBy: true,        resizeTo: true,        screen: true,        scroll: true,        scrollBy: true,        scrollTo: true,        self: true,        setInterval: true,        setTimeout: true,        status: true,        top: true,        window: true,        XMLHttpRequest: true    },    cssAttributeData,    cssAny,    cssColorData = {        &quot;aliceblue&quot;: true,        &quot;antiquewhite&quot;: true,        &quot;aqua&quot;: true,        &quot;aquamarine&quot;: true,        &quot;azure&quot;: true,        &quot;beige&quot;: true,        &quot;bisque&quot;: true,        &quot;black&quot;: true,        &quot;blanchedalmond&quot;: true,        &quot;blue&quot;: true,        &quot;blueviolet&quot;: true,        &quot;brown&quot;: true,        &quot;burlywood&quot;: true,        &quot;cadetblue&quot;: true,        &quot;chartreuse&quot;: true,        &quot;chocolate&quot;: true,        &quot;coral&quot;: true,        &quot;cornflowerblue&quot;: true,        &quot;cornsilk&quot;: true,        &quot;crimson&quot;: true,        &quot;cyan&quot;: true,        &quot;darkblue&quot;: true,        &quot;darkcyan&quot;: true,        &quot;darkgoldenrod&quot;: true,        &quot;darkgray&quot;: true,        &quot;darkgreen&quot;: true,        &quot;darkkhaki&quot;: true,        &quot;darkmagenta&quot;: true,        &quot;darkolivegreen&quot;: true,        &quot;darkorange&quot;: true,        &quot;darkorchid&quot;: true,        &quot;darkred&quot;: true,        &quot;darksalmon&quot;: true,        &quot;darkseagreen&quot;: true,        &quot;darkslateblue&quot;: true,        &quot;darkslategray&quot;: true,        &quot;darkturquoise&quot;: true,        &quot;darkviolet&quot;: true,        &quot;deeppink&quot;: true,        &quot;deepskyblue&quot;: true,        &quot;dimgray&quot;: true,        &quot;dodgerblue&quot;: true,        &quot;firebrick&quot;: true,        &quot;floralwhite&quot;: true,        &quot;forestgreen&quot;: true,        &quot;fuchsia&quot;: true,        &quot;gainsboro&quot;: true,        &quot;ghostwhite&quot;: true,        &quot;gold&quot;: true,        &quot;goldenrod&quot;: true,        &quot;gray&quot;: true,        &quot;green&quot;: true,        &quot;greenyellow&quot;: true,        &quot;honeydew&quot;: true,        &quot;hotpink&quot;: true,        &quot;indianred&quot;: true,        &quot;indigo&quot;: true,        &quot;ivory&quot;: true,        &quot;khaki&quot;: true,        &quot;lavender&quot;: true,        &quot;lavenderblush&quot;: true,        &quot;lawngreen&quot;: true,        &quot;lemonchiffon&quot;: true,        &quot;lightblue&quot;: true,        &quot;lightcoral&quot;: true,        &quot;lightcyan&quot;: true,        &quot;lightgoldenrodyellow&quot;: true,        &quot;lightgreen&quot;: true,        &quot;lightpink&quot;: true,        &quot;lightsalmon&quot;: true,        &quot;lightseagreen&quot;: true,        &quot;lightskyblue&quot;: true,        &quot;lightslategray&quot;: true,        &quot;lightsteelblue&quot;: true,        &quot;lightyellow&quot;: true,        &quot;lime&quot;: true,        &quot;limegreen&quot;: true,        &quot;linen&quot;: true,        &quot;magenta&quot;: true,        &quot;maroon&quot;: true,        &quot;mediumaquamarine&quot;: true,        &quot;mediumblue&quot;: true,        &quot;mediumorchid&quot;: true,        &quot;mediumpurple&quot;: true,        &quot;mediumseagreen&quot;: true,        &quot;mediumslateblue&quot;: true,        &quot;mediumspringgreen&quot;: true,        &quot;mediumturquoise&quot;: true,        &quot;mediumvioletred&quot;: true,        &quot;midnightblue&quot;: true,        &quot;mintcream&quot;: true,        &quot;mistyrose&quot;: true,        &quot;moccasin&quot;: true,        &quot;navajowhite&quot;: true,        &quot;navy&quot;: true,        &quot;oldlace&quot;: true,        &quot;olive&quot;: true,        &quot;olivedrab&quot;: true,        &quot;orange&quot;: true,        &quot;orangered&quot;: true,        &quot;orchid&quot;: true,        &quot;palegoldenrod&quot;: true,        &quot;palegreen&quot;: true,        &quot;paleturquoise&quot;: true,        &quot;palevioletred&quot;: true,        &quot;papayawhip&quot;: true,        &quot;peachpuff&quot;: true,        &quot;peru&quot;: true,        &quot;pink&quot;: true,        &quot;plum&quot;: true,        &quot;powderblue&quot;: true,        &quot;purple&quot;: true,        &quot;red&quot;: true,        &quot;rosybrown&quot;: true,        &quot;royalblue&quot;: true,        &quot;saddlebrown&quot;: true,        &quot;salmon&quot;: true,        &quot;sandybrown&quot;: true,        &quot;seagreen&quot;: true,        &quot;seashell&quot;: true,        &quot;sienna&quot;: true,        &quot;silver&quot;: true,        &quot;skyblue&quot;: true,        &quot;slateblue&quot;: true,        &quot;slategray&quot;: true,        &quot;snow&quot;: true,        &quot;springgreen&quot;: true,        &quot;steelblue&quot;: true,        &quot;tan&quot;: true,        &quot;teal&quot;: true,        &quot;thistle&quot;: true,        &quot;tomato&quot;: true,        &quot;turquoise&quot;: true,        &quot;violet&quot;: true,        &quot;wheat&quot;: true,        &quot;white&quot;: true,        &quot;whitesmoke&quot;: true,        &quot;yellow&quot;: true,        &quot;yellowgreen&quot;: true    },    cssBorderStyle,    cssLengthData = {        '%': true,        'cm': true,        'em': true,        'ex': true,        'in': true,        'mm': true,        'pc': true,        'pt': true,        'px': true    },    escapes = {        '\b': '\\b',        '\t': '\\t',        '\n': '\\n',        '\f': '\\f',        '\r': '\\r',        '&quot;': '\\&quot;',        '/': '\\/',        '\\': '\\\\'    },    funct,    functions,    global,    htmltag = {        a: {},        abbr: {},        acronym: {},        address: {},        applet: {},        area: {            empty: true,            parent: ' map '        },        b: {},        base: {            empty: true,            parent: ' head '        },        bdo: {},        big: {},        blockquote: {},        body: {            parent: ' html noframes '        },        br: {            empty: true        },        button: {},        canvas: {            parent: ' body p div th td '        },        caption: {            parent: ' table '        },        center: {},        cite: {},        code: {},        col: {            empty: true,            parent: ' table colgroup '        },        colgroup: {            parent: ' table '        },        dd: {            parent: ' dl '        },        del: {},        dfn: {},        dir: {},        div: {},        dl: {},        dt: {            parent: ' dl '        },        em: {},        embed: {},        fieldset: {},        font: {},        form: {},        frame: {            empty: true,            parent: ' frameset '        },        frameset: {            parent: ' html frameset '        },        h1: {},        h2: {},        h3: {},        h4: {},        h5: {},        h6: {},        head: {            parent: ' html '        },        html: {            parent: '*'        },        hr: {            empty: true        },        i: {},        iframe: {},        img: {            empty: true        },        input: {            empty: true        },        ins: {},        kbd: {},        label: {},        legend: {            parent: ' fieldset '        },        li: {            parent: ' dir menu ol ul '        },        link: {            empty: true,            parent: ' head '        },        map: {},        menu: {},        meta: {            empty: true,            parent: ' head noframes noscript '        },        noframes: {            parent: ' html body '        },        noscript: {            parent: ' body head noframes '        },        object: {},        ol: {},        optgroup: {            parent: ' select '        },        option: {            parent: ' optgroup select '        },        p: {},        param: {            empty: true,            parent: ' applet object '        },        pre: {},        q: {},        samp: {},        script: {            empty: true,            parent: ' body div frame head iframe p pre span '        },        select: {},        small: {},        span: {},        strong: {},        style: {            parent: ' head ',            empty: true        },        sub: {},        sup: {},        table: {},        tbody: {            parent: ' table '        },        td: {            parent: ' tr '        },        textarea: {},        tfoot: {            parent: ' table '        },        th: {            parent: ' tr '        },        thead: {            parent: ' table '        },        title: {            parent: ' head '        },        tr: {            parent: ' table tbody thead tfoot '        },        tt: {},        u: {},        ul: {},        'var': {}    },    ids,    implied,    inblock,    indent,    jsonmode,    lines,    lookahead,    member,    membersOnly,    nexttoken,    noreach,    option,    predefined,    prereg,    prevtoken,    pseudorule = {        'first-child': true,        link: true,        visited: true,        hover: true,        active: true,        focus: true,        lang: true,        'first-letter': true,        'first-line': true,        before: true,        after: true    },    rhino = {        defineClass: true,        deserialize: true,        gc: true,        help: true,        load: true,        loadClass: true,        print: true,        quit: true,        readFile: true,        readUrl: true,        runCommand: true,        seal: true,        serialize: true,        spawn: true,        sync: true,        toint32: true,        version: true    },    scope,    sidebar = {        System: true    },    src,    stack,    standard = {        Array: true,        Boolean: true,        Date: true,        decodeURI: true,        decodeURIComponent: true,        encodeURI: true,        encodeURIComponent: true,        Error: true,        'eval': true,        EvalError: true,        Function: true,        isFinite: true,        isNaN: true,        JSON: true,        Math: true,        Number: true,        Object: true,        parseInt: true,        parseFloat: true,        RangeError: true,        ReferenceError: true,        RegExp: true,        String: true,        SyntaxError: true,        TypeError: true,        URIError: true    },    standard_member = {        E: true,        LN2: true,        LN10: true,        LOG2E: true,        LOG10E: true,        PI: true,        SQRT1_2: true,        SQRT2: true,        MAX_VALUE: true,        MIN_VALUE: true,        NEGATIVE_INFINITY: true,        POSITIVE_INFINITY: true    },    syntax = {},    tab,    token,    urls,    warnings,    widget = {        alert: true,        appleScript: true,        animator: true,        appleScript: true,        beep: true,        bytesToUIString: true,        Canvas: true,        chooseColor: true,        chooseFile: true,        chooseFolder: true,        closeWidget: true,        COM: true,        convertPathToHFS: true,        convertPathToPlatform: true,        CustomAnimation: true,        escape: true,        FadeAnimation: true,        filesystem: true,        focusWidget: true,        form: true,        FormField: true,        Frame: true,        HotKey: true,        Image: true,        include: true,        isApplicationRunning: true,        iTunes: true,        konfabulatorVersion: true,        log: true,        MenuItem: true,        MoveAnimation: true,        openURL: true,        play: true,        Point: true,        popupMenu: true,        preferenceGroups: true,        preferences: true,        print: true,        prompt: true,        random: true,        reloadWidget: true,        ResizeAnimation: true,        resolvePath: true,        resumeUpdates: true,        RotateAnimation: true,        runCommand: true,        runCommandInBg: true,        saveAs: true,        savePreferences: true,        screen: true,        ScrollBar: true,        showWidgetPreferences: true,        sleep: true,        speak: true,        suppressUpdates: true,        system: true,        tellWidget: true,        Text: true,        TextArea: true,        Timer: true,        unescape: true,        updateNow: true,        URL: true,        widget: true,        Window: true,        XMLDOM: true,        XMLHttpRequest: true,        yahooCheckLogin: true,        yahooLogin: true,        yahooLogout: true    },    xmode,    xquote,    ax = /@cc|&lt;\/?|script|\]*s\]|&lt;\s*!|&amp;lt/i,    cx = /[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,    tx = /^\s*([(){}\[.,:;'&quot;~\?\]#@]|==?=?|\/(\*(global|extern|jslint|member|members)?|=|\/)?|\*[\/=]?|\+[+=]?|-[\-=]?|%=?|&amp;[&amp;=]?|\|[|=]?|&gt;&gt;?&gt;?=?|&lt;([\/=]|\!(\[|--)?|&lt;=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,    hx = /^\s*(['&quot;=&gt;\/&amp;#]|&lt;[\/!]?|[a-zA-Z][a-zA-Z0-9_\-]*|--)/,    ox = /[&gt;&amp;]|&lt;[\/!]?|--/,    lx = /\*\/|\/\*/,    ix = /^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,    jx = /^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,    ux = /&amp;|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,    sx = /^\s*([{:#*%.=,&gt;+\[\]@()&quot;';*]|[a-zA-Z0-9_][a-zA-Z0-9_\-]*|&lt;\/|\/\*)/,    ssx = /^\s*([@#!&quot;'};:\-\/%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\d+(?:\.\d+)?|&lt;\/)/,    rx = {        outer: hx,        html: hx,        style: sx,        styleproperty: ssx    };    function F() {}    if (typeof Object.create !== 'function') {        Object.create = function(o) {            F.prototype = o;            return new F();        };    }    Object.prototype.union = function(o) {        var n;        for (n in o) {            if (o.hasOwnProperty(n)) {                this[n] = o[n];            }        }    };    String.prototype.entityify = function() {        return this.replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;');    };    String.prototype.isAlpha = function() {        return (this &gt;= 'a' &amp;&amp; this &lt;= 'z\uffff') || (this &gt;= 'A' &amp;&amp; this &lt;= 'Z\uffff');    };    String.prototype.isDigit = function() {        return (this &gt;= '0' &amp;&amp; this &lt;= '9');    };    String.prototype.supplant = function(o) {        return this.replace(/\{([^{}]*)\}/g,        function(a, b) {            var r = o[b];            return typeof r === 'string' || typeof r === 'number' ? r: a;        });    };    String.prototype.name = function() {        if (ix.test(this)) {            return this;        }        if (/[&amp;&lt;&quot;\/\\\x00-\x1f]/.test(this)) {            return '&quot;' + this.replace(/[&amp;&lt;&quot;\/\\\x00-\x1f]/g,            function(a) {                var c = escapes[a];                if (c) {                    return c;                }                c = a.charCodeAt();                return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);            }) + '&quot;';        }        return '&quot;' + this + '&quot;';    };    function assume() {        if (!option.safe) {            if (option.rhino) {                predefined.union(rhino);            }            if (option.browser || option.sidebar) {                predefined.union(browser);            }            if (option.sidebar) {                predefined.union(sidebar);            }            if (option.widget) {                predefined.union(widget);            }        }    }    function quit(m, l, ch) {        throw {            name: 'JSLintError',            line: l,            character: ch,            message: m + &quot; (&quot; + Math.floor((l / lines.length) * 100) + &quot;% scanned).&quot;        };    }    function warning(m, t, a, b, c, d) {        var ch, l, w;        t = t || nexttoken;        if (t.id === '(end)') {            t = token;        }        l = t.line || 0;        ch = t.from || 0;        w = {            id: '(error)',            raw: m,            evidence: lines[l] || '',            line: l,            character: ch,            a: a,            b: b,            c: c,            d: d        };        w.reason = m.supplant(w);        JSLINT.errors.push(w);        if (option.passfail) {            quit('Stopping. ', l, ch);        }        warnings += 1;        if (warnings === 50) {            quit(&quot;Too many errors.&quot;, l, ch);        }        return w;    }    function warningAt(m, l, ch, a, b, c, d) {        return warning(m, {            line: l,            from: ch        },        a, b, c, d);    }    function error(m, t, a, b, c, d) {        var w = warning(m, t, a, b, c, d);        quit(&quot;Stopping, unable to continue.&quot;, w.line, w.character);    }    function errorAt(m, l, ch, a, b, c, d) {        return error(m, {            line: l,            from: ch        },        a, b, c, d);    }    var lex = function lex() {        var character, from, line, s;        function nextLine() {            var at;            line += 1;            if (line &gt;= lines.length) {                return false;            }            character = 0;            s = lines[line].replace(/\t/g, tab);            at = s.search(cx);            if (at &gt;= 0) {                warningAt(&quot;Unsafe character.&quot;, line, at);            }            return true;        }        function it(type, value) {            var i, t;            if (type === '(color)') {                t = {                    type: type                };            } else if (type === '(punctuator)' || (type === '(identifier)' &amp;&amp; syntax.hasOwnProperty(value))) {                t = syntax[value];                if (!t.id) {                    t = syntax[type];                }            } else {                t = syntax[type];            }            t = Object.create(t);            if (type === '(string)' || type === '(range)') {                if (jx.test(value)) {                    warningAt(&quot;Script URL.&quot;, line, from);                }            }            if (type === '(identifier)') {                t.identifier = true;                if (option.nomen &amp;&amp; value.charAt(0) === '_') {                    warningAt(&quot;Unexpected '_' in '{a}'.&quot;, line, from, value);                }            }            t.value = value;            t.line = line;            t.character = character;            t.from = from;            i = t.id;            if (i !== '(endline)') {                prereg = i &amp;&amp; (('(,=:[!&amp;|?{};'.indexOf(i.charAt(i.length - 1)) &gt;= 0) || i === 'return');            }            return t;        }        return {            init: function(source) {                if (typeof source === 'string') {                    lines = source.replace(/\r\n/g, '\n').replace(/\r/g, '\n').split('\n');                } else {                    lines = source;                }                line = -1;                nextLine();                from = 0;            },            range: function(begin, end) {                var c, value = '';                from = character;                if (s.charAt(0) !== begin) {                    errorAt(&quot;Expected '{a}' and instead saw '{b}'.&quot;, line, character, begin, s.charAt(0));                }                for (;;) {                    s = s.slice(1);                    character += 1;                    c = s.charAt(0);                    switch (c) {                    case '':                        errorAt(&quot;Missing '{a}'.&quot;, line, character, c);                        break;                    case end:                        s = s.slice(1);                        character += 1;                        return it('(range)', value);                    case xquote:                    case '\\':                    case '\'':                    case '&quot;':                        warningAt(&quot;Unexpected '{a}'.&quot;, line, character, c);                    }                    value += c;                }            },            token: function() {                var b, c, captures, d, depth, high, i, l, low, q, t;                function match(x) {                    var r = x.exec(s),                    r1;                    if (r) {                        l = r[0].length;                        r1 = r[1];                        c = r1.charAt(0);                        s = s.substr(l);                        character += l;                        from = character - r1.length;                        return r1;                    }                }                function string(x) {                    var c, j, r = '';                    if (jsonmode &amp;&amp; x !== '&quot;') {                        warningAt(&quot;Strings must use doublequote.&quot;, line, character);                    }                    if (xquote === x || (xmode === 'scriptstring' &amp;&amp; !xquote)) {                        return it('(punctuator)', x);                    }                    function esc(n) {                        var i = parseInt(s.substr(j + 1, n), 16);                        j += n;                        if (i &gt;= 32 &amp;&amp; i &lt;= 127 &amp;&amp; i !== 34 &amp;&amp; i !== 92 &amp;&amp; i !== 39) {                            warningAt(&quot;Unnecessary escapement.&quot;, line, character);                        }                        character += n;                        c = String.fromCharCode(i);                    }                    j = 0;                    for (;;) {                        while (j &gt;= s.length) {                            j = 0;                            if (xmode !== 'html' || !nextLine()) {                                errorAt(&quot;Unclosed string.&quot;, line, from);                            }                        }                        c = s.charAt(j);                        if (c === x) {                            character += 1;                            s = s.substr(j + 1);                            return it('(string)', r, x);                        }                        if (c &lt; ' ') {                            if (c === '\n' || c === '\r') {                                break;                            }                            warningAt(&quot;Control character in string: {a}.&quot;, line, character + j, s.slice(0, j));                        } else if (c === xquote) {                            warningAt(&quot;Bad HTML string&quot;, line, character + j);                        } else if (c === '&lt;') {                            if (option.safe &amp;&amp; xmode === 'html') {                                warningAt(&quot;ADsafe string violation.&quot;, line, character + j);                            } else if (s.charAt(j + 1) === '/' &amp;&amp; (xmode || option.safe)) {                                warningAt(&quot;Expected '&lt;\\/' and instead saw '&lt;/'.&quot;, line, character);                            } else if (s.charAt(j + 1) === '!' &amp;&amp; (xmode || option.safe)) {                                warningAt(&quot;Unexpected '&lt;!' in a string.&quot;, line, character);                            }                        } else if (c === '\\') {                            if (xmode === 'html') {                                if (option.safe) {                                    warningAt(&quot;ADsafe string violation.&quot;, line, character + j);                                }                            } else if (xmode === 'styleproperty') {                                j += 1;                                character += 1;                                c = s.charAt(j);                                if (c !== x) {                                    warningAt(&quot;Escapement in style string.&quot;, line, character + j);                                }                            } else {                                j += 1;                                character += 1;                                c = s.charAt(j);                                switch (c) {                                case xquote:                                    warningAt(&quot;Bad HTML string&quot;, line, character + j);                                    break;                                case '\\':                                case '\'':                                case '&quot;':                                case '/':                                    break;                                case 'b':                                    c = '\b';                                    break;                                case 'f':                                    c = '\f';                                    break;                                case 'n':                                    c = '\n';                                    break;                                case 'r':                                    c = '\r';                                    break;                                case 't':                                    c = '\t';                                    break;                                case 'u':                                    esc(4);                                    break;                                case 'v':                                    c = '\v';                                    break;                                case 'x':                                    if (jsonmode) {                                        warningAt(&quot;Avoid \\x-.&quot;, line, character);                                    }                                    esc(2);                                    break;                                default:                                    warningAt(&quot;Bad escapement.&quot;, line, character);                                }                            }                        }                        r += c;                        character += 1;                        j += 1;                    }                }                for (;;) {                    if (!s) {                        return it(nextLine() ? '(endline)': '(end)', '');                    }                    while (xmode === 'outer') {                        i = s.search(ox);                        if (i === 0) {                            break;                        } else if (i &gt; 0) {                            character += 1;                            s = s.slice(i);                            break;                        } else {                            if (!nextLine()) {                                return it('(end)', '');                            }                        }                    }                    t = match(rx[xmode] || tx);                    if (!t) {                        if (xmode === 'html') {                            return it('(error)', s.charAt(0));                        } else {                            t = '';                            c = '';                            while (s &amp;&amp; s &lt; '!') {                                s = s.substr(1);                            }                            if (s) {                                errorAt(&quot;Unexpected '{a}'.&quot;, line, character, s.substr(0, 1));                            }                        }                    } else {                        if (c.isAlpha() || c === '_' || c === '$') {                            return it('(identifier)', t);                        }                        if (c.isDigit()) {                            if (xmode !== 'style' &amp;&amp; !isFinite(Number(t))) {                                warningAt(&quot;Bad number '{a}'.&quot;, line, character, t);                            }                            if (xmode !== 'styleproperty' &amp;&amp; s.substr(0, 1).isAlpha()) {                                warningAt(&quot;Missing space after '{a}'.&quot;, line, character, t);                            }                            if (c === '0') {                                d = t.substr(1, 1);                                if (d.isDigit()) {                                    if (token.id !== '.' &amp;&amp; xmode !== 'styleproperty') {                                        warningAt(&quot;Don't use extra leading zeros '{a}'.&quot;, line, character, t);                                    }                                } else if (jsonmode &amp;&amp; (d === 'x' || d === 'X')) {                                    warningAt(&quot;Avoid 0x-. '{a}'.&quot;, line, character, t);                                }                            }                            if (t.substr(t.length - 1) === '.') {                                warningAt(&quot;A trailing decimal point can be confused with a dot '{a}'.&quot;, line, character, t);                            }                            return it('(number)', t);                        }                        switch (t) {                        case '&quot;':                        case &quot;'&quot;:                            return string(t);                        case '//':                            if (src || (xmode &amp;&amp; xmode !== 'script')) {                                warningAt(&quot;Unexpected comment.&quot;, line, character);                            } else if (xmode === 'script' &amp;&amp; /&lt;\s*\//i.test(s)) {                                warningAt(&quot;Unexpected &lt;\/ in comment.&quot;, line, character);                            } else if ((option.safe || xmode === 'script') &amp;&amp; ax.test(s)) {                                warningAt(&quot;Dangerous comment.&quot;, line, character);                            }                            s = '';                            token.comment = true;                            break;                        case '/*':                            if (src || (xmode &amp;&amp; xmode !== 'script' &amp;&amp; xmode !== 'style' &amp;&amp; xmode !== 'styleproperty')) {                                warningAt(&quot;Unexpected comment.&quot;, line, character);                            }                            if (option.safe &amp;&amp; ax.test(s)) {                                warningAt(&quot;ADsafe comment violation.&quot;, line, character);                            }                            for (;;) {                                i = s.search(lx);                                if (i &gt;= 0) {                                    break;                                }                                if (!nextLine()) {                                    errorAt(&quot;Unclosed comment.&quot;, line, character);                                } else {                                    if (option.safe &amp;&amp; ax.test(s)) {                                        warningAt(&quot;ADsafe comment violation.&quot;, line, character);                                    }                                }                            }                            character += i + 2;                            if (s.substr(i, 1) === '/') {                                errorAt(&quot;Nested comment.&quot;, line, character);                            }                            s = s.substr(i + 2);                            token.comment = true;                            break;                        case '/*global':                        case '/*extern':                        case '/*members':                        case '/*member':                        case '/*jslint':                        case '*/':                            return {                                value:                                t,                                type: 'special',                                line: line,                                character: character,                                from: from                            };                        case '':                            break;                        case '/':                            if (prereg) {                                depth = 0;                                captures = 0;                                l = 0;                                for (;;) {                                    b = true;                                    c = s.charAt(l);                                    l += 1;                                    switch (c) {                                    case '':                                        errorAt(&quot;Unclosed regular expression.&quot;, line, from);                                        return;                                    case '/':                                        if (depth &gt; 0) {                                            warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l, '/');                                        }                                        c = s.substr(0, l - 1);                                        q = {                                            g: true,                                            i: true,                                            m: true                                        };                                        while (q[s.charAt(l)] === true) {                                            q[s.charAt(l)] = false;                                            l += 1;                                        }                                        character += l;                                        s = s.substr(l);                                        return it('(regexp)', c);                                    case '\\':                                        c = s.charAt(l);                                        if (c &lt; ' ') {                                            warningAt(&quot;Unexpected control character in regular expression.&quot;, line, from + l);                                        } else if (c === '&lt;') {                                            warningAt(&quot;Unexpected escaped character '{a}' in regular expression.&quot;, line, from + l, c);                                        }                                        l += 1;                                        break;                                    case '(':                                        depth += 1;                                        b = false;                                        if (s.charAt(l) === '?') {                                            l += 1;                                            switch (s.charAt(l)) {                                            case ':':                                            case '=':                                            case '!':                                                l += 1;                                                break;                                            default:                                                warningAt(&quot;Expected '{a}' and instead saw '{b}'.&quot;, line, from + l, ':', s.charAt(l));                                            }                                        } else {                                            captures += 1;                                        }                                        break;                                    case ')':                                        if (depth === 0) {                                            warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l, ')');                                        } else {                                            depth -= 1;                                        }                                        break;                                    case ' ':                                        q = 1;                                        while (s.charAt(l) === ' ') {                                            l += 1;                                            q += 1;                                        }                                        if (q &gt; 1) {                                            warningAt(&quot;Spaces are hard to count. Use {{a}}.&quot;, line, from + l, q);                                        }                                        break;                                    case '[':                                        if (s.charAt(l) === '^') {                                            l += 1;                                        }                                        q = false;                                        klass: do {                                            c = s.charAt(l);                                            l += 1;                                            switch (c) {                                            case '[':                                            case '^':                                                warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l, c);                                                q = true;                                                break;                                            case '-':                                                if (q) {                                                    q = false;                                                } else {                                                    warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l, '-');                                                    q = true;                                                }                                                break;                                            case ']':                                                if (!q) {                                                    warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l - 1, '-');                                                }                                                break klass;                                            case '\\':                                                c = s.charAt(l);                                                if (c &lt; ' ') {                                                    warningAt(&quot;Unexpected control character in regular expression.&quot;, line, from + l);                                                } else if (c === '&lt;') {                                                    warningAt(&quot;Unexpected escaped character '{a}' in regular expression.&quot;, line, from + l, c);                                                }                                                l += 1;                                                q = true;                                                break;                                            case '/':                                                warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l - 1, '/');                                                q = true;                                                break;                                            case '&lt;':                                                if (xmode === 'script') {                                                    c = s.charAt(l);                                                    if (c === '!' || c === '/') {                                                        warningAt(&quot;HTML confusion in regular expression '&lt;{a}'.&quot;, line, from + l, c);                                                    }                                                }                                                q = true;                                                break;                                            default:                                                q = true;                                            }                                        } while ( c );                                        break;                                    case '.':                                        if (option.regexp) {                                            warningAt(&quot;Unexpected '{a}'.&quot;, line, from + l, c);                                        }                                        break;                                    case ']':                                    case '?':                                    case '{':                                    case '}':                                    case '+':                                    case '*':                                        warningAt(&quot;Unescaped '{a}'.&quot;, line, from + l, c);                                        break;                                    case '&lt;':                                        if (xmode === 'script') {                                            c = s.charAt(l);                                            if (c === '!' || c === '/') {                                                warningAt(&quot;HTML confusion in regular expression '&lt;{a}'.&quot;, line, from + l, c);                                            }                                        }                                    }                                    if (b) {                                        switch (s.charAt(l)) {                                        case '?':                                        case '+':                                        case '*':                                            l += 1;                                            if (s.charAt(l) === '?') {                                                l += 1;                                            }                                            break;                                        case '{':                                            l += 1;                                            c = s.charAt(l);                                            if (c &lt; '0' || c &gt; '9') {                                                warningAt(&quot;Expected a number and instead saw '{a}'.&quot;, line, from + l, c);                                            }                                            l += 1;                                            low = +c;                                            for (;;) {                                                c = s.charAt(l);                                                if (c &lt; '0' || c &gt; '9') {                                                    break;                                                }                                                l += 1;                                                low = +c + (low * 10);                                            }                                            high = low;                                            if (c === ',') {                                                l += 1;                                                high = Infinity;                                                c = s.charAt(l);                                                if (c &gt;= '0' &amp;&amp; c &lt;= '9') {                                                    l += 1;                                                    high = +c;                                                    for (;;) {                                                        c = s.charAt(l);                                                        if (c &lt; '0' || c &gt; '9') {                                                            break;                                                        }                                                        l += 1;                                                        high = +c + (high * 10);                                                    }                                                }                                            }                                            if (s.charAt(l) !== '}') {                                                warningAt(&quot;Expected '{a}' and instead saw '{b}'.&quot;, line, from + l, '}', c);                                            } else {                                                l += 1;                                            }                                            if (s.charAt(l) === '?') {                                                l += 1;                                            }                                            if (low &gt; high) {                                                warningAt(&quot;'{a}' should not be greater than '{b}'.&quot;, line, from + l, low, high);                                            }                                        }                                    }                                }                                c = s.substr(0, l - 1);                                character += l;                                s = s.substr(l);                                return it('(regexp)', c);                            }                            return it('(punctuator)', t);                        case '#':                            if (xmode === 'html' || xmode === 'styleproperty') {                                for (;;) {                                    c = s.charAt(0);                                    if ((c &lt; '0' || c &gt; '9') &amp;&amp; (c &lt; 'a' || c &gt; 'f') &amp;&amp; (c &lt; 'A' || c &gt; 'F')) {                                        break;                                    }                                    character += 1;                                    s = s.substr(1);                                    t += c;                                }                                if (t.length !== 4 &amp;&amp; t.length !== 7) {                                    warningAt(&quot;Bad hex color '{a}'.&quot;, line, from + l, t);                                }                                return it('(color)', t);                            }                            return it('(punctuator)', t);                        default:                            if (xmode === 'outer' &amp;&amp; c === '&amp;') {                                character += 1;                                s = s.substr(1);                                for (;;) {                                    c = s.charAt(0);                                    character += 1;                                    s = s.substr(1);                                    if (c === ';') {                                        break;                                    }                                    if (! ((c &gt;= '0' &amp;&amp; c &lt;= '9') || (c &gt;= 'a' &amp;&amp; c &lt;= 'z') || c === '#')) {                                        errorAt(&quot;Bad entity&quot;, line, from + l, character);                                    }                                }                                break;                            }                            return it('(punctuator)', t);                        }                    }                }            }        };    } ();    function addlabel(t, type) {        if (t === 'hasOwnProperty') {            error(&quot;'hasOwnProperty' is a really bad name.&quot;);        }        if (option.safe &amp;&amp; funct['(global)']) {            warning('ADsafe global: ' + t + '.', token);        }        if (funct.hasOwnProperty(t)) {            warning(funct[t] === true ? &quot;'{a}' was used before it was defined.&quot;: &quot;'{a}' is already defined.&quot;, nexttoken, t);        }        funct[t] = type;        if (type === 'label') {            scope[t] = funct;        } else if (funct['(global)']) {            global[t] = funct;            if (implied.hasOwnProperty(t)) {                warning(&quot;'{a}' was used before it was defined.&quot;, nexttoken, t);                delete implied[t];            }        } else {            funct['(scope)'][t] = funct;        }    }    function doOption() {        var b, obj, filter, o = nexttoken.value,        t, v;        switch (o) {        case '*/':            error(&quot;Unbegun comment.&quot;);            break;        case '/*global':        case '/*extern':            if (option.safe) {                warning(&quot;ADsafe restriction.&quot;);            }            obj = predefined;            break;        case '/*members':        case '/*member':            o = '/*members';            if (!membersOnly) {                membersOnly = {};            }            obj = membersOnly;            break;        case '/*jslint':            if (option.safe) {                warning(&quot;ADsafe restriction.&quot;);            }            obj = option;            filter = boolOptions;        }        for (;;) {            t = lex.token();            if (t.id === ',') {                t = lex.token();            }            while (t.id === '(endline)') {                t = lex.token();            }            if (t.type === 'special' &amp;&amp; t.value === '*/') {                break;            }            if (t.type !== '(string)' &amp;&amp; t.type !== '(identifier)' &amp;&amp; o !== '/*members') {                error(&quot;Bad option.&quot;, t);            }            if (filter) {                if (filter[t.value] !== true) {                    error(&quot;Bad option.&quot;, t);                }                v = lex.token();                if (v.id !== ':') {                    error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, t, ':', t.value);                }                v = lex.token();                if (v.value === 'true') {                    b = true;                } else if (v.value === 'false') {                    b = false;                } else {                    error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, t, 'true', t.value);                }            } else {                b = true;            }            obj[t.value] = b;        }        if (filter) {            assume();        }    }    function peek(p) {        var i = p || 0,        j = 0,        t;        while (j &lt;= i) {            t = lookahead[j];            if (!t) {                t = lookahead[j] = lex.token();            }            j += 1;        }        return t;    }    function advance(id, t) {        var l;        switch (token.id) {        case '(number)':            if (nexttoken.id === '.') {                warning(&quot;A dot following a number can be confused with a decimal point.&quot;, token);            }            break;        case '-':            if (nexttoken.id === '-' || nexttoken.id === '--') {                warning(&quot;Confusing minusses.&quot;);            }            break;        case '+':            if (nexttoken.id === '+' || nexttoken.id === '++') {                warning(&quot;Confusing plusses.&quot;);            }            break;        }        if (token.type === '(string)' || token.identifier) {            anonname = token.value;        }        if (id &amp;&amp; nexttoken.id !== id) {            if (t) {                if (nexttoken.id === '(end)') {                    warning(&quot;Unmatched '{a}'.&quot;, t, t.id);                } else {                    warning(&quot;Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.&quot;, nexttoken, id, t.id, t.line + 1, nexttoken.value);                }            } else if (nexttoken.type !== '(identifier)' || nexttoken.value !== id) {                warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, id, nexttoken.value);            }        }        prevtoken = token;        token = nexttoken;        for (;;) {            nexttoken = lookahead.shift() || lex.token();            if (nexttoken.id === '(end)' || nexttoken.id === '(error)') {                return;            }            if (nexttoken.type === 'special') {                doOption();            } else {                if (nexttoken.id !== '(endline)') {                    break;                }                l = !xmode &amp;&amp; !option.laxbreak &amp;&amp; (token.type === '(string)' || token.type === '(number)' || token.type === '(identifier)' || badbreak[token.id]);            }        }        if (l) {            switch (nexttoken.id) {            case '{':            case '}':            case ']':            case '.':                break;            case ')':                switch (token.id) {                case ')':                case '}':                case ']':                    break;                default:                    warning(&quot;Line breaking error '{a}'.&quot;, token, ')');                }                break;            default:                warning(&quot;Line breaking error '{a}'.&quot;, token, token.value);            }        }    }    function parse(rbp, initial) {        var left, o;        if (nexttoken.id === '(end)') {            error(&quot;Unexpected early end of program.&quot;, token);        }        advance();        if (option.safe &amp;&amp; predefined[token.value] === true &amp;&amp; (nexttoken.id !== '(' &amp;&amp; nexttoken.id !== '.')) {            warning('ADsafe violation.', token);        }        if (initial) {            anonname = 'anonymous';            funct['(verb)'] = token.value;        }        if (initial === true &amp;&amp; token.fud) {            left = token.fud();        } else {            if (token.nud) {                o = token.exps;                left = token.nud();            } else {                if (nexttoken.type === '(number)' &amp;&amp; token.id === '.') {                    warning(&quot;A leading decimal point can be confused with a dot: '.{a}'.&quot;, token, nexttoken.value);                    advance();                    return token;                } else {                    error(&quot;Expected an identifier and instead saw '{a}'.&quot;, token, token.id);                }            }            while (rbp &lt; nexttoken.lbp) {                o = nexttoken.exps;                advance();                if (token.led) {                    left = token.led(left);                } else {                    error(&quot;Expected an operator and instead saw '{a}'.&quot;, token, token.id);                }            }            if (initial &amp;&amp; !o) {                warning(&quot;Expected an assignment or function call and instead saw an expression.&quot;, token);            }        }        if (!option.evil &amp;&amp; left &amp;&amp; left.value === 'eval') {            warning(&quot;eval is evil.&quot;, left);        }        return left;    }    function adjacent(left, right) {        left = left || token;        right = right || nexttoken;        if (option.white || xmode === 'styleproperty' || xmode === 'style') {            if (left.character !== right.from &amp;&amp; left.line === right.line) {                warning(&quot;Unexpected space after '{a}'.&quot;, nexttoken, left.value);            }        }    }    function nospace(left, right) {        left = left || token;        right = right || nexttoken;        if (option.white &amp;&amp; !left.comment) {            if (left.line === right.line) {                adjacent(left, right);            }        }    }    function nonadjacent(left, right) {        left = left || token;        right = right || nexttoken;        if (option.white) {            if (left.character === right.from) {                warning(&quot;Missing space after '{a}'.&quot;, nexttoken, left.value);            }        }    }    function indentation(bias) {        var i;        if (option.white &amp;&amp; nexttoken.id !== '(end)') {            i = indent + (bias || 0);            if (nexttoken.from !== i) {                warning(&quot;Expected '{a}' to have an indentation of {b} instead of {c}.&quot;, nexttoken, nexttoken.value, i, nexttoken.from);            }        }    }    function nolinebreak(t) {        if (t.line !== nexttoken.line) {            warning(&quot;Line breaking error '{a}'.&quot;, t, t.id);        }    }    function symbol(s, p) {        var x = syntax[s];        if (!x || typeof x !== 'object') {            syntax[s] = x = {                id: s,                lbp: p,                value: s            };        }        return x;    }    function delim(s) {        return symbol(s, 0);    }    function stmt(s, f) {        var x = delim(s);        x.identifier = x.reserved = true;        x.fud = f;        return x;    }    function blockstmt(s, f) {        var x = stmt(s, f);        x.block = true;        return x;    }    function reserveName(x) {        var c = x.id.charAt(0);        if ((c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z')) {            x.identifier = x.reserved = true;        }        return x;    }    function prefix(s, f) {        var x = symbol(s, 150);        reserveName(x);        x.nud = (typeof f === 'function') ? f: function() {            if (option.plusplus &amp;&amp; (this.id === '++' || this.id === '--')) {                warning(&quot;Unexpected use of '{a}'.&quot;, this, this.id);            }            this.right = parse(150);            this.arity = 'unary';            return this;        };        return x;    }    function type(s, f) {        var x = delim(s);        x.type = s;        x.nud = f;        return x;    }    function reserve(s, f) {        var x = type(s, f);        x.identifier = x.reserved = true;        return x;    }    function reservevar(s) {        return reserve(s,        function() {            if (this.id === 'this') {                if (option.safe) {                    warning(&quot;ADsafe violation.&quot;, this);                }            }            return this;        });    }    function infix(s, f, p) {        var x = symbol(s, p);        reserveName(x);        x.led = (typeof f === 'function') ? f: function(left) {            nonadjacent(prevtoken, token);            nonadjacent(token, nexttoken);            this.left = left;            this.right = parse(p);            return this;        };        return x;    }    function relation(s, f) {        var x = symbol(s, 100);        x.led = function(left) {            nonadjacent(prevtoken, token);            nonadjacent(token, nexttoken);            var right = parse(100);            if ((left &amp;&amp; left.id === 'NaN') || (right &amp;&amp; right.id === 'NaN')) {                warning(&quot;Use the isNaN function to compare with NaN.&quot;, this);            } else if (f) {                f.apply(this, [left, right]);            }            this.left = left;            this.right = right;            return this;        };        return x;    }    function isPoorRelation(node) {        var n = +node.value;        return (node.type === '(number)' &amp;&amp; !n) || (node.type === '(string)' &amp;&amp; !node.value) || node.type === 'true' || node.type === 'false' || node.type === 'undefined' || node.type === 'null';    }    function assignop(s, f) {        symbol(s, 20).exps = true;        return infix(s,        function(left) {            var l;            this.left = left;            nonadjacent(prevtoken, token);            nonadjacent(token, nexttoken);            if (option.safe) {                l = left;                do {                    if (predefined[l.value] === true) {                        warning('ADsafe violation.', l);                    }                    l = l.left;                } while ( l );            }            if (left) {                if (left.id === '.' || left.id === '[') {                    if (left.left.value === 'arguments') {                        warning('Bad assignment.', this);                    }                    this.right = parse(19);                    return this;                } else if (left.identifier &amp;&amp; !left.reserved) {                    this.right = parse(19);                    return this;                }                if (left === syntax['function']) {                    warning(&quot;Expected an identifier in an assignment and instead saw a function invocation.&quot;, token);                }            }            error(&quot;Bad assignment.&quot;, this);        },        20);    }    function bitwise(s, f, p) {        var x = symbol(s, p);        reserveName(x);        x.led = (typeof f === 'function') ? f: function(left) {            if (option.bitwise) {                warning(&quot;Unexpected use of '{a}'.&quot;, this, this.id);            }            nonadjacent(prevtoken, token);            nonadjacent(token, nexttoken);            this.left = left;            this.right = parse(p);            return this;        };        return x;    }    function bitwiseassignop(s) {        symbol(s, 20).exps = true;        return infix(s,        function(left) {            if (option.bitwise) {                warning(&quot;Unexpected use of '{a}'.&quot;, this, this.id);            }            nonadjacent(prevtoken, token);            nonadjacent(token, nexttoken);            if (left) {                if (left.id === '.' || left.id === '[' || (left.identifier &amp;&amp; !left.reserved)) {                    parse(19);                    return left;                }                if (left === syntax['function']) {                    warning(&quot;Expected an identifier in an assignment, and instead saw a function invocation.&quot;, token);                }            }            error(&quot;Bad assignment.&quot;, this);        },        20);    }    function suffix(s, f) {        var x = symbol(s, 150);        x.led = function(left) {            if (option.plusplus) {                warning(&quot;Unexpected use of '{a}'.&quot;, this, this.id);            }            this.left = left;            return this;        };        return x;    }    function optionalidentifier() {        if (nexttoken.reserved) {            warning(&quot;Expected an identifier and instead saw '{a}' (a reserved word).&quot;, nexttoken, nexttoken.id);        }        if (nexttoken.identifier) {            advance();            return token.value;        }    }    function identifier() {        var i = optionalidentifier();        if (i) {            return i;        }        if (token.id === 'function' &amp;&amp; nexttoken.id === '(') {            warning(&quot;Missing name in function statement.&quot;);        } else {            error(&quot;Expected an identifier and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);        }    }    function reachable(s) {        var i = 0,        t;        if (nexttoken.id !== ';' || noreach) {            return;        }        for (;;) {            t = peek(i);            if (t.reach) {                return;            }            if (t.id !== '(endline)') {                if (t.id === 'function') {                    warning(&quot;Inner functions should be listed at the top of the outer function.&quot;, t);                    break;                }                warning(&quot;Unreachable '{a}' after '{b}'.&quot;, t, t.value, s);                break;            }            i += 1;        }    }    function statement(noindent) {        var i = indent,        r, s = scope,        t = nexttoken;        if (t.id === ';') {            warning(&quot;Unnecessary semicolon.&quot;, t);            advance(';');            return;        }        if (t.identifier &amp;&amp; !t.reserved &amp;&amp; peek().id === ':') {            advance();            advance(':');            scope = Object.create(s);            addlabel(t.value, 'label');            if (!nexttoken.labelled) {                warning(&quot;Label '{a}' on {b} statement.&quot;, nexttoken, t.value, nexttoken.value);            }            if (jx.test(t.value + ':')) {                warning(&quot;Label '{a}' looks like a javascript url.&quot;, t, t.value);            }            nexttoken.label = t.value;            t = nexttoken;        }        if (!noindent) {            indentation();        }        r = parse(0, true);        if (!t.block) {            if (nexttoken.id !== ';') {                warningAt(&quot;Missing semicolon.&quot;, token.line, token.from + token.value.length);            } else {                adjacent(token, nexttoken);                advance(';');                nonadjacent(token, nexttoken);            }        }        indent = i;        scope = s;        return r;    }    function statements(begin) {        var a = [];        if (begin) {            if (option.strict &amp;&amp; nexttoken.type !== '(string)') {                warning('Missing &quot;use strict&quot; statement.', nexttoken);            }            if (nexttoken.type === '(string)' &amp;&amp; nexttoken.value === 'use strict') {                advance();                advance(';');            }        }        if (option.adsafe) {            switch (begin) {            case 'script':                if (!adsafe_may) {                    if (nexttoken.value !== 'ADSAFE' || peek(0).id !== '.' || (peek(1).value !== 'id' &amp;&amp; peek(1).value !== 'go')) {                        error('ADsafe violation: Missing ADSAFE.id or ADSAFE.go.', nexttoken);                    }                }                if (nexttoken.value === 'ADSAFE' &amp;&amp; peek(0).id === '.' &amp;&amp; peek(1).value === 'id') {                    if (adsafe_may) {                        error('ADsafe violation.', nexttoken);                    }                    advance('ADSAFE');                    advance('.');                    advance('id');                    advance('(');                    if (nexttoken.value !== adsafe_id) {                        error('ADsafe violation: id does not match.', nexttoken);                    }                    advance('(string)');                    advance(')');                    advance(';');                    adsafe_may = true;                }                break;            case 'lib':                if (nexttoken.value === 'ADSAFE') {                    advance('ADSAFE');                    advance('.');                    advance('lib');                    advance('(');                    advance('(string)');                    advance(',');                    parse(0);                    advance(')');                    advance(';');                    return a;                } else {                    error(&quot;ADsafe lib violation.&quot;);                }            }        }        while (!nexttoken.reach &amp;&amp; nexttoken.id !== '(end)') {            if (nexttoken.id === ';') {                warning(&quot;Unnecessary semicolon.&quot;);                advance(';');            } else {                a.push(statement());            }        }        return a;    }    function block(f) {        var a, b = inblock,        s = scope,        t;        inblock = f;        if (f) {            scope = Object.create(scope);        }        nonadjacent(token, nexttoken);        t = nexttoken;        if (nexttoken.id === '{') {            advance('{');            if (nexttoken.id !== '}' || token.line !== nexttoken.line) {                indent += option.indent;                if (!f &amp;&amp; nexttoken.from === indent + option.indent) {                    indent += option.indent;                }                a = statements();                indent -= option.indent;                indentation();            }            advance('}', t);        } else {            warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, '{', nexttoken.value);            noreach = true;            a = [statement()];            noreach = false;        }        funct['(verb)'] = null;        scope = s;        inblock = b;        return a;    }    function idValue() {        return this;    }    function countMember(m) {        if (membersOnly &amp;&amp; membersOnly[m] !== true) {            warning(&quot;Unexpected /*member '{a}'.&quot;, nexttoken, m);        }        if (typeof member[m] === 'number') {            member[m] += 1;        } else {            member[m] = 1;        }    }    function note_implied(token) {        var name = token.value,        line = token.line + 1,        a = implied[name];        if (!a) {            a = [line];            implied[name] = a;        } else if (a[a.length - 1] !== line) {            a.push(line);        }    }    function cssName() {        if (nexttoken.identifier) {            advance();            return true;        }    }    function cssNumber() {        if (nexttoken.id === '-') {            advance('-');            advance('(number)');        }        if (nexttoken.type === '(number)') {            advance();            return true;        }    }    function cssString() {        if (nexttoken.type === '(string)') {            advance();            return true;        }    }    function cssColor() {        var i, number;        if (nexttoken.identifier) {            if (nexttoken.value === 'rgb') {                advance();                advance('(');                for (i = 0; i &lt; 3; i += 1) {                    number = nexttoken.value;                    if (nexttoken.type !== '(number)' || number &lt; 0) {                        warning(&quot;Expected a positive number and instead saw '{a}'&quot;, nexttoken, number);                        advance();                    } else {                        advance();                        if (nexttoken.id === '%') {                            advance('%');                            if (number &gt; 100) {                                warning(&quot;Expected a percentage and instead saw '{a}'&quot;, token, number);                            }                        } else {                            if (number &gt; 255) {                                warning(&quot;Expected a small number and instead saw '{a}'&quot;, token, number);                            }                        }                    }                }                advance(')');                return true;            } else if (cssColorData[nexttoken.value] === true) {                advance();                return true;            }        } else if (nexttoken.type === '(color)') {            advance();            return true;        }        return false;    }    function cssLength() {        if (nexttoken.id === '-') {            advance('-');            adjacent();        }        if (nexttoken.type === '(number)') {            advance();            if (nexttoken.type !== '(string)' &amp;&amp; cssLengthData[nexttoken.value] === true) {                adjacent();                advance();            } else if ( + token.value !== 0) {                warning(&quot;Expected a linear unit and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);            }            return true;        }        return false;    }    function cssLineHeight() {        if (nexttoken.id === '-') {            advance('-');            adjacent();        }        if (nexttoken.type === '(number)') {            advance();            if (nexttoken.type !== '(string)' &amp;&amp; cssLengthData[nexttoken.value] === true) {                adjacent();                advance();            }            return true;        }        return false;    }    function cssWidth() {        if (nexttoken.identifier) {            switch (nexttoken.value) {            case 'thin':            case 'medium':            case 'thick':                advance();                return true;            }        } else {            return cssLength();        }    }    function cssMargin() {        if (nexttoken.identifier) {            if (nexttoken.value === 'auto') {                advance();                return true;            }        } else {            return cssLength();        }    }    function cssAttr() {        if (nexttoken.identifier &amp;&amp; nexttoken.value === 'attr') {            advance();            advance('(');            if (!nexttoken.identifier) {                warning(&quot;Expected a name and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);            }            advance();            advance(')');            return true;        }        return false;    }    function cssCommaList() {        while (nexttoken.id !== ';') {            if (!cssName() &amp;&amp; !cssString()) {                warning(&quot;Expected a name and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);            }            if (nexttoken.id !== ',') {                return true;            }            advance(',');        }    }    function cssCounter() {        if (nexttoken.identifier &amp;&amp; nexttoken.value === 'counter') {            advance();            advance('(');            if (!nexttoken.identifier) {}            advance();            if (nexttoken.id === ',') {                advance(',');                if (nexttoken.type !== '(string)') {                    warning(&quot;Expected a string and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);                }                advance();            }            advance(')');            return true;        }        if (nexttoken.identifier &amp;&amp; nexttoken.value === 'counters') {            advance();            advance('(');            if (!nexttoken.identifier) {                warning(&quot;Expected a name and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);            }            advance();            if (nexttoken.id === ',') {                advance(',');                if (nexttoken.type !== '(string)') {                    warning(&quot;Expected a string and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);                }                advance();            }            if (nexttoken.id === ',') {                advance(',');                if (nexttoken.type !== '(string)') {                    warning(&quot;Expected a string and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);                }                advance();            }            advance(')');            return true;        }        return false;    }    function cssShape() {        var i;        if (nexttoken.identifier &amp;&amp; nexttoken.value === 'rect') {            advance();            advance('(');            for (i = 0; i &lt; 4; i += 1) {                if (!cssLength()) {                    warning(&quot;Expected a number and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);                    break;                }            }            advance(')');            return true;        }        return false;    }    function cssUrl() {        var url;        if (nexttoken.identifier &amp;&amp; nexttoken.value === 'url') {            nexttoken = lex.range('(', ')');            url = nexttoken.value;            advance();            if (option.safe &amp;&amp; ux.test(url)) {                error(&quot;ADsafe URL violation.&quot;);            }            urls.push(url);            return true;        }        return false;    }    cssAny = [cssUrl,    function() {        for (;;) {            if (nexttoken.identifier) {                switch (nexttoken.value.toLowerCase()) {                case 'url':                    cssUrl();                    break;                case 'expression':                    warning(&quot;Unexpected expression '{a}'.&quot;, nexttoken, nexttoken.value);                    advance();                    break;                default:                    advance();                }            } else {                if (nexttoken.id === ';' || nexttoken.id === '!' || nexttoken.id === '(end)' || nexttoken.id === '}') {                    return true;                }                advance();            }        }    }];    cssBorderStyle = ['none', 'hidden', 'dotted', 'dashed', 'solid', 'double', 'ridge', 'inset', 'outset'];    cssAttributeData = {        background: [true, 'background-attachment', 'background-color', 'background-image', 'background-position', 'background-repeat'],        'background-attachment': ['scroll', 'fixed'],        'background-color': ['transparent', cssColor],        'background-image': ['none', cssUrl],        'background-position': [2, [cssLength, 'top', 'bottom', 'left', 'right', 'center']],        'background-repeat': ['repeat', 'repeat-x', 'repeat-y', 'no-repeat'],        'border': [true, 'border-color', 'border-style', 'border-width'],        'border-bottom': [true, 'border-bottom-color', 'border-bottom-style', 'border-bottom-width'],        'border-bottom-color': cssColor,        'border-bottom-style': cssBorderStyle,        'border-bottom-width': cssWidth,        'border-collapse': ['collapse', 'separate'],        'border-color': ['transparent', 4, cssColor],        'border-left': [true, 'border-left-color', 'border-left-style', 'border-left-width'],        'border-left-color': cssColor,        'border-left-style': cssBorderStyle,        'border-left-width': cssWidth,        'border-right': [true, 'border-right-color', 'border-right-style', 'border-right-width'],        'border-right-color': cssColor,        'border-right-style': cssBorderStyle,        'border-right-width': cssWidth,        'border-spacing': [2, cssLength],        'border-style': [4, cssBorderStyle],        'border-top': [true, 'border-top-color', 'border-top-style', 'border-top-width'],        'border-top-color': cssColor,        'border-top-style': cssBorderStyle,        'border-top-width': cssWidth,        'border-width': [4, cssWidth],        bottom: [cssLength, 'auto'],        'caption-side': ['bottom', 'left', 'right', 'top'],        clear: ['both', 'left', 'none', 'right'],        clip: [cssShape, 'auto'],        color: cssColor,        content: ['open-quote', 'close-quote', 'no-open-quote', 'no-close-quote', cssString, cssUrl, cssCounter, cssAttr],        'counter-increment': [cssName, 'none'],        'counter-reset': [cssName, 'none'],        cursor: [cssUrl, 'auto', 'crosshair', 'default', 'e-resize', 'help', 'move', 'n-resize', 'ne-resize', 'nw-resize', 'pointer', 's-resize', 'se-resize', 'sw-resize', 'w-resize', 'text', 'wait'],        direction: ['ltr', 'rtl'],        display: ['block', 'compact', 'inline', 'inline-block', 'inline-table', 'list-item', 'marker', 'none', 'run-in', 'table', 'table-caption', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row', 'table-row-group'],        'empty-cells': ['show', 'hide'],        'float': ['left', 'none', 'right'],        font: ['caption', 'icon', 'menu', 'message-box', 'small-caption', 'status-bar', true, 'font-size', 'font-style', 'font-weight', 'font-family'],        'font-family': cssCommaList,        'font-size': ['xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large', 'larger', 'smaller', cssLength],        'font-size-adjust': ['none', cssNumber],        'font-stretch': ['normal', 'wider', 'narrower', 'ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'semi-expanded', 'expanded', 'extra-expanded'],        'font-style': ['normal', 'italic', 'oblique'],        'font-variant': ['normal', 'small-caps'],        'font-weight': ['normal', 'bold', 'bolder', 'lighter', cssNumber],        height: [cssLength, 'auto'],        left: [cssLength, 'auto'],        'letter-spacing': ['normal', cssLength],        'line-height': ['normal', cssLineHeight],        'list-style': [true, 'list-style-image', 'list-style-position', 'list-style-type'],        'list-style-image': ['none', cssUrl],        'list-style-position': ['inside', 'outside'],        'list-style-type': ['circle', 'disc', 'square', 'decimal', 'decimal-leading-zero', 'lower-roman', 'upper-roman', 'lower-greek', 'lower-alpha', 'lower-latin', 'upper-alpha', 'upper-latin', 'hebrew', 'katakana', 'hiragana-iroha', 'katakana-oroha', 'none'],        margin: [4, cssMargin],        'margin-bottom': cssMargin,        'margin-left': cssMargin,        'margin-right': cssMargin,        'margin-top': cssMargin,        'marker-offset': [cssLength, 'auto'],        'max-height': [cssLength, 'none'],        'max-width': [cssLength, 'none'],        'min-height': cssLength,        'min-width': cssLength,        opacity: cssNumber,        outline: [true, 'outline-color', 'outline-style', 'outline-width'],        'outline-color': ['invert', cssColor],        'outline-style': ['dashed', 'dotted', 'double', 'groove', 'inset', 'none', 'outset', 'ridge', 'solid'],        'outline-width': cssWidth,        overflow: ['auto', 'hidden', 'scroll', 'visible'],        padding: [4, cssLength],        'padding-bottom': cssLength,        'padding-left': cssLength,        'padding-right': cssLength,        'padding-top': cssLength,        position: ['absolute', 'fixed', 'relative', 'static'],        quotes: [8, cssString],        right: [cssLength, 'auto'],        'table-layout': ['auto', 'fixed'],        'text-align': ['center', 'justify', 'left', 'right'],        'text-decoration': ['none', 'underline', 'overline', 'line-through', 'blink'],        'text-indent': cssLength,        'text-shadow': ['none', 4, [cssColor, cssLength]],        'text-transform': ['capitalize', 'uppercase', 'lowercase', 'none'],        top: [cssLength, 'auto'],        'unicode-bidi': ['normal', 'embed', 'bidi-override'],        'vertical-align': ['baseline', 'bottom', 'sub', 'super', 'top', 'text-top', 'middle', 'text-bottom', cssLength],        visibility: ['visible', 'hidden', 'collapse'],        'white-space': ['normal', 'pre', 'nowrap'],        width: [cssLength, 'auto'],        'word-spacing': ['normal', cssLength],        'z-index': ['auto', cssNumber]    };    function styleAttribute() {        var v;        while (nexttoken.id === '*' || nexttoken.id === '#' || nexttoken.value === '_') {            if (!option.css) {                warning(&quot;Unexpected '{a}'.&quot;, nexttoken, nexttoken.value);            }            advance();        }        if (nexttoken.id === '-') {            if (!option.css) {                warning(&quot;Unexpected '{a}'.&quot;, nexttoken, nexttoken.value);            }            advance('-');            if (!nexttoken.identifier) {                warning(&quot;Expected a non-standard style attribute and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);            }            advance();            return cssAny;        } else {            if (!nexttoken.identifier) {                warning(&quot;Excepted a style attribute, and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);            } else {                if (cssAttributeData.hasOwnProperty(nexttoken.value)) {                    v = cssAttributeData[nexttoken.value];                } else {                    v = cssAny;                    if (!option.css) {                        warning(&quot;Unrecognized style attribute '{a}'.&quot;, nexttoken, nexttoken.value);                    }                }            }            advance();            return v;        }    }    function styleValue(v) {        var i = 0,        n, once, match, round, start = 0,        vi;        switch (typeof v) {        case 'function':            return v();        case 'string':            if (nexttoken.identifier &amp;&amp; nexttoken.value === v) {                advance();                return true;            }            return false;        }        for (;;) {            if (i &gt;= v.length) {                return false;            }            vi = v[i];            i += 1;            if (vi === true) {                break;            } else if (typeof vi === 'number') {                n = vi;                vi = v[i];                i += 1;            } else {                n = 1;            }            match = false;            while (n &gt; 0) {                if (styleValue(vi)) {                    match = true;                    n -= 1;                } else {                    break;                }            }            if (match) {                return true;            }        }        start = i;        once = [];        for (;;) {            round = false;            for (i = start; i &lt; v.length; i += 1) {                if (!once[i]) {                    if (styleValue(cssAttributeData[v[i]])) {                        match = true;                        round = true;                        once[i] = true;                        break;                    }                }            }            if (!round) {                return match;            }        }    }    function substyle() {        var v;        for (;;) {            if (nexttoken.id === '}' || nexttoken.id === '(end)' || xquote &amp;&amp; nexttoken.id === xquote) {                return;            }            while (nexttoken.id === ';') {                warning(&quot;Misplaced ';'.&quot;);                advance(';');            }            v = styleAttribute();            advance(':');            if (nexttoken.identifier &amp;&amp; nexttoken.value === 'inherit') {                advance();            } else {                styleValue(v);            }            while (nexttoken.id !== ';' &amp;&amp; nexttoken.id !== '!' &amp;&amp; nexttoken.id !== '}' &amp;&amp; nexttoken.id !== '(end)' &amp;&amp; nexttoken.id !== xquote) {                warning(&quot;Unexpected token '{a}'.&quot;, nexttoken, nexttoken.value);                advance();            }            if (nexttoken.id === '!') {                advance('!');                adjacent();                if (nexttoken.identifier &amp;&amp; nexttoken.value === 'important') {                    advance();                } else {                    warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, 'important', nexttoken.value);                }            }            if (nexttoken.id === '}' || nexttoken.id === xquote) {                warning(&quot;Missing '{a}'.&quot;, nexttoken, ';');            } else {                advance(';');            }        }    }    function stylePattern() {        var name;        if (nexttoken.id === '{') {            warning(&quot;Expected a style pattern, and instead saw '{a}'.&quot;, nexttoken, nexttoken.id);        } else if (nexttoken.id === '@') {            advance('@');            name = nexttoken.value;            if (nexttoken.identifier &amp;&amp; atrule[name] === true) {                advance();                return name;            }            warning(&quot;Expected an at-rule, and instead saw @{a}.&quot;, nexttoken, name);        }        for (;;) {            if (nexttoken.identifier) {                if (!htmltag.hasOwnProperty(nexttoken.value)) {                    warning(&quot;Expected a tagName, and instead saw {a}.&quot;, nexttoken, nexttoken.value);                }                advance();            } else {                switch (nexttoken.id) {                case '&gt;':                case '+':                    advance();                    if (!nexttoken.identifier || !htmltag.hasOwnProperty(nexttoken.value)) {                        warning(&quot;Expected a tagName, and instead saw {a}.&quot;, nexttoken, nexttoken.value);                    }                    advance();                    break;                case ':':                    advance(':');                    if (pseudorule[nexttoken.value] !== true) {                        warning(&quot;Expected a pseudo, and instead saw :{a}.&quot;, nexttoken, nexttoken.value);                    }                    advance();                    if (nexttoken.value === 'lang') {                        advance('(');                        if (!nexttoken.identifier) {                            warning(&quot;Expected a lang code, and instead saw :{a}.&quot;, nexttoken, nexttoken.value);                        }                        advance(')');                    }                    break;                case '#':                    advance('#');                    if (!nexttoken.identifier) {                        warning(&quot;Expected an id, and instead saw #{a}.&quot;, nexttoken, nexttoken.value);                    }                    advance();                    break;                case '*':                    advance('*');                    break;                case '.':                    advance('.');                    if (!nexttoken.identifier) {                        warning(&quot;Expected a class, and instead saw #.{a}.&quot;, nexttoken, nexttoken.value);                    }                    advance();                    break;                case '[':                    advance('[');                    if (!nexttoken.identifier) {                        warning(&quot;Expected an attribute, and instead saw [{a}].&quot;, nexttoken, nexttoken.value);                    }                    advance();                    if (nexttoken.id === '=' || nexttoken.id === '~=' || nexttoken.id === '|=') {                        advance();                        if (nexttoken.type !== '(string)') {                            warning(&quot;Expected a string, and instead saw {a}.&quot;, nexttoken, nexttoken.value);                        }                        advance();                    }                    advance(']');                    break;                default:                    error(&quot;Expected a CSS selector, and instead saw {a}.&quot;, nexttoken, nexttoken.value);                }            }            if (nexttoken.id === '&lt;/' || nexttoken.id === '{' || nexttoken.id === '(end)') {                return '';            }            if (nexttoken.id === ',') {                advance(',');            }        }    }    function styles() {        while (nexttoken.id !== '&lt;/' &amp;&amp; nexttoken.id !== '(end)') {            stylePattern();            xmode = 'styleproperty';            if (nexttoken.id === ';') {                advance(';');            } else {                advance('{');                substyle();                xmode = 'style';                advance('}');            }        }    }    function doBegin(n) {        if (n !== 'html' &amp;&amp; !option.fragment) {            if (n === 'div' &amp;&amp; option.adsafe) {                error(&quot;ADSAFE: Use the fragment option.&quot;);            } else {                error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, token, 'html', n);            }        }        if (option.adsafe) {            if (n === 'html') {                error(&quot;Currently, ADsafe does not operate on whole HTML documents. It operates on &lt;div&gt; fragments and .js files.&quot;, token);            }            if (option.fragment) {                if (n !== 'div') {                    error(&quot;ADsafe violation: Wrap the widget in a div.&quot;, token);                }            } else {                error(&quot;Use the fragment option.&quot;, token);            }        }        option.browser = true;        assume();    }    function doAttribute(n, a, v) {        var u;        if (a === 'id') {            u = typeof v === 'string' ? v.toUpperCase() : '';            if (ids[u] === true) {                warning(&quot;Duplicate id='{a}'.&quot;, nexttoken, v);            }            ids[u] = true;            if (option.adsafe) {                if (adsafe_id) {                    if (v.slice(0, adsafe_id.length) !== adsafe_id) {                        warning(&quot;ADsafe violation: An id must have a '{a}' prefix&quot;, nexttoken, adsafe_id);                    } else if (!/^[A-Z]+_[A-Z]+$/.test(v)) {                        warning(&quot;ADSAFE violation: bad id.&quot;);                    }                } else {                    adsafe_id = v;                    if (!/^[A-Z]+_$/.test(v)) {                        warning(&quot;ADSAFE violation: bad id.&quot;);                    }                }            }        } else if (a === 'href' || a === 'background' || a === 'content' || a === 'data' || a.indexOf('src') &gt;= 0 || a.indexOf('url') &gt;= 0) {            if (option.safe &amp;&amp; ux.test(v)) {                error(&quot;ADsafe URL violation.&quot;);            }            urls.push(v);        } else if (a === 'for') {            if (option.adsafe) {                if (adsafe_id) {                    if (v.slice(0, adsafe_id.length) !== adsafe_id) {                        warning(&quot;ADsafe violation: An id must have a '{a}' prefix&quot;, nexttoken, adsafe_id);                    } else if (!/^[A-Z]+_[A-Z]+$/.test(v)) {                        warning(&quot;ADSAFE violation: bad id.&quot;);                    }                } else {                    warning(&quot;ADSAFE violation: bad id.&quot;);                }            }        } else if (a === 'name') {            if (option.adsafe &amp;&amp; v.indexOf('_') &gt;= 0) {                warning(&quot;ADsafe name violation.&quot;);            }        }    }    function doTag(n, a) {        var i, t = htmltag[n],        x;        src = false;        if (!t) {            error(&quot;Unrecognized tag '&lt;{a}&gt;'.&quot;, nexttoken, n === n.toLowerCase() ? n: n + ' (capitalization error)');        }        if (stack.length &gt; 0) {            if (n === 'html') {                error(&quot;Too many &lt;html&gt; tags.&quot;, token);            }            x = t.parent;            if (x) {                if (x.indexOf(' ' + stack[stack.length - 1].name + ' ') &lt; 0) {                    error(&quot;A '&lt;{a}&gt;' must be within '&lt;{b}&gt;'.&quot;, token, n, x);                }            } else if (!option.adsafe || !option.fragment) {                i = stack.length;                do {                    if (i &lt;= 0) {                        error(&quot;A '&lt;{a}&gt;' must be within '&lt;{b}&gt;'.&quot;, token, n, 'body');                    }                    i -= 1;                } while ( stack [ i ].name !== 'body');            }        }        switch (n) {        case 'div':            if (option.adsafe &amp;&amp; stack.length === 1 &amp;&amp; !adsafe_id) {                warning(&quot;ADSAFE violation: missing ID_.&quot;);            }            break;        case 'script':            xmode = 'script';            advance('&gt;');            indent = nexttoken.from;            if (a.lang) {                warning(&quot;lang is deprecated.&quot;, token);            }            if (option.adsafe &amp;&amp; stack.length !== 1) {                warning(&quot;ADsafe script placement violation.&quot;, token);            }            if (a.src) {                if (option.adsafe &amp;&amp; (!adsafe_may || !approved[a.src])) {                    warning(&quot;ADsafe unapproved script source.&quot;, token);                }                if (a.type) {                    warning(&quot;type is unnecessary.&quot;, token);                }            } else {                if (adsafe_went) {                    error(&quot;ADsafe script violation.&quot;, token);                }                statements('script');            }            xmode = 'html';            advance('&lt;/');            if (!nexttoken.identifier &amp;&amp; nexttoken.value !== 'script') {                warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, 'script', nexttoken.value);            }            advance();            xmode = 'outer';            break;        case 'style':            xmode = 'style';            advance('&gt;');            styles();            xmode = 'html';            advance('&lt;/');            if (!nexttoken.identifier &amp;&amp; nexttoken.value !== 'style') {                warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, 'style', nexttoken.value);            }            advance();            xmode = 'outer';            break;        case 'input':            switch (a.type) {            case 'radio':            case 'checkbox':            case 'text':            case 'button':            case 'file':            case 'reset':            case 'submit':            case 'password':            case 'file':            case 'hidden':            case 'image':                break;            default:                warning(&quot;Bad input type.&quot;);            }            if (option.adsafe &amp;&amp; a.autocomplete !== 'off') {                warning(&quot;ADsafe autocomplete violation.&quot;);            }            break;        case 'applet':        case 'body':        case 'embed':        case 'frame':        case 'frameset':        case 'head':        case 'iframe':        case 'img':        case 'object':        case 'param':            if (option.adsafe) {                warning(&quot;ADsafe violation: Disallowed tag: &quot; + n);            }            break;        }    }    function closetag(n) {        return '&lt;/' + n + '&gt;';    }    function html() {        var a, attributes, e, n, q, t, v, wmode;        xmode = 'html';        xquote = '';        stack = null;        for (;;) {            switch (nexttoken.value) {            case '&lt;':                xmode = 'html';                advance('&lt;');                attributes = {};                t = nexttoken;                if (!t.identifier) {                    warning(&quot;Bad identifier {a}.&quot;, t, t.value);                }                n = t.value;                if (option.cap) {                    n = n.toLowerCase();                }                t.name = n;                advance();                if (!stack) {                    stack = [];                    doBegin(n);                }                v = htmltag[n];                if (typeof v !== 'object') {                    error(&quot;Unrecognized tag '&lt;{a}&gt;'.&quot;, t, n);                }                e = v.empty;                t.type = n;                for (;;) {                    if (nexttoken.id === '/') {                        advance('/');                        if (nexttoken.id !== '&gt;') {                            warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, '&gt;', nexttoken.value);                        }                        break;                    }                    if (nexttoken.id &amp;&amp; nexttoken.id.substr(0, 1) === '&gt;') {                        break;                    }                    if (!nexttoken.identifier) {                        if (nexttoken.id === '(end)' || nexttoken.id === '(error)') {                            error(&quot;Missing '&gt;'.&quot;, nexttoken);                        }                        warning(&quot;Bad identifier.&quot;);                    }                    a = nexttoken.value;                    advance();                    if (!option.cap &amp;&amp; a !== a.toLowerCase()) {                        warning(&quot;Attribute '{a}' not all lower case.&quot;, nexttoken, a);                    }                    a = a.toLowerCase();                    xquote = '';                    if (attributes.hasOwnProperty(a)) {                        warning(&quot;Attribute '{a}' repeated.&quot;, nexttoken, a);                    }                    if (a.slice(0, 2) === 'on') {                        if (!option.on) {                            warning(&quot;Avoid HTML event handlers.&quot;);                        }                        xmode = 'scriptstring';                        advance('=');                        q = nexttoken.id;                        if (q !== '&quot;' &amp;&amp; q !== &quot;'&quot;) {                            error(&quot;Missing quote.&quot;);                        }                        xquote = q;                        wmode = option.white;                        option.white = false;                        advance(q);                        statements('on');                        option.white = wmode;                        if (nexttoken.id !== q) {                            error(&quot;Missing close quote on script attribute.&quot;);                        }                        xmode = 'html';                        xquote = '';                        advance(q);                        v = false;                    } else if (a === 'style') {                        xmode = 'scriptstring';                        advance('=');                        q = nexttoken.id;                        if (q !== '&quot;' &amp;&amp; q !== &quot;'&quot;) {                            error(&quot;Missing quote.&quot;);                        }                        xmode = 'styleproperty';                        xquote = q;                        advance(q);                        substyle();                        xmode = 'html';                        xquote = '';                        advance(q);                        v = false;                    } else {                        if (nexttoken.id === '=') {                            advance('=');                            v = nexttoken.value;                            if (!nexttoken.identifier &amp;&amp; nexttoken.id !== '&quot;' &amp;&amp; nexttoken.id !== '\'' &amp;&amp; nexttoken.type !== '(string)' &amp;&amp; nexttoken.type !== '(number)' &amp;&amp; nexttoken.type !== '(color)') {                                warning(&quot;Expected an attribute value and instead saw '{a}'.&quot;, token, a);                            }                            advance();                        } else {                            v = true;                        }                    }                    attributes[a] = v;                    doAttribute(n, a, v);                }                doTag(n, attributes);                if (!e) {                    stack.push(t);                }                xmode = 'outer';                advance('&gt;');                break;            case '&lt;/':                xmode = 'html';                advance('&lt;/');                if (!nexttoken.identifier) {                    warning(&quot;Bad identifier.&quot;);                }                n = nexttoken.value;                if (option.cap) {                    n = n.toLowerCase();                }                advance();                if (!stack) {                    error(&quot;Unexpected '{a}'.&quot;, nexttoken, closetag(n));                }                t = stack.pop();                if (!t) {                    error(&quot;Unexpected '{a}'.&quot;, nexttoken, closetag(n));                }                if (t.name !== n) {                    error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, closetag(t.name), closetag(n));                }                if (nexttoken.id !== '&gt;') {                    error(&quot;Missing '{a}'.&quot;, nexttoken, '&gt;');                }                xmode = 'outer';                advance('&gt;');                break;            case '&lt;!':                if (option.safe) {                    error(&quot;ADsafe HTML violation.&quot;);                }                xmode = 'outer';                v = false;                for (;;) {                    advance();                    if (nexttoken.id === '&gt;') {                        break;                    }                    if (nexttoken.id === '&lt;' || nexttoken.id === '(end)') {                        error(&quot;Missing '{a}'.&quot;, token, '&gt;');                    }                    if (nexttoken.id === '--') {                        v = !v;                    }                }                if (v) {                    warning(&quot;Misshapen HTML comment.&quot;);                }                xmode = 'html';                advance('&gt;');                break;            case '(end)':                return;            default:                if (nexttoken.id === '(end)') {                    error(&quot;Missing '{a}'.&quot;, nexttoken, '&lt;/html&gt;');                } else if (nexttoken.id !== '--' &amp;&amp; nexttoken.id !== '#') {                    error(&quot;Unexpected '{a}'.&quot;, nexttoken, nexttoken.value);                } else {                    advance();                }            }            if (stack &amp;&amp; stack.length === 0) {                break;            }        }        if (nexttoken.id !== '(end)') {            error(&quot;Unexpected material after the end.&quot;);        }    }    type('(number)', idValue);    type('(string)', idValue);    syntax['(identifier)'] = {        type: '(identifier)',        lbp: 0,        identifier: true,        nud: function() {            var v = this.value,            s = scope[v];            if (s &amp;&amp; (s === funct || s === funct['(global)'])) {                if (!funct['(global)']) {                    switch (funct[v]) {                    case 'unused':                        funct[v] = 'var';                        break;                    case 'label':                        warning(&quot;'{a}' is a statement label.&quot;, token, v);                        break;                    }                }            } else if (funct['(global)']) {                if (option.undef) {                    warning(&quot;'{a}' is undefined.&quot;, token, v);                }                note_implied(token);            } else {                switch (funct[v]) {                case 'closure':                case 'function':                case 'var':                case 'unused':                    warning(&quot;'{a}' used out of scope.&quot;, token, v);                    break;                case 'label':                    warning(&quot;'{a}' is a statement label.&quot;, token, v);                    break;                case 'outer':                case true:                    break;                default:                    if (s === true) {                        funct[v] = true;                    } else if (typeof s !== 'object') {                        if (option.undef) {                            warning(&quot;'{a}' is undefined.&quot;, token, v);                        } else {                            funct[v] = true;                        }                        note_implied(token);                    } else {                        switch (s[v]) {                        case 'function':                        case 'var':                        case 'unused':                            s[v] = 'closure';                            funct[v] = 'outer';                            break;                        case 'closure':                        case 'parameter':                            funct[v] = 'outer';                            break;                        case 'label':                            warning(&quot;'{a}' is a statement label.&quot;, token, v);                        }                    }                }            }            return this;        },        led: function() {            error(&quot;Expected an operator and instead saw '{a}'.&quot;, nexttoken, nexttoken.value);        }    };    type('(regexp)',    function() {        return this;    });    delim('(endline)');    delim('(begin)');    delim('(end)').reach = true;    delim('&lt;/').reach = true;    delim('&lt;!');    delim('(error)').reach = true;    delim('}').reach = true;    delim(')');    delim(']');    delim('&quot;').reach = true;    delim(&quot;'&quot;).reach = true;    delim(';');    delim(':').reach = true;    delim(',');    delim('#');    delim('@');    reserve('else');    reserve('case').reach = true;    reserve('catch');    reserve('default').reach = true;    reserve('finally');    reservevar('arguments');    reservevar('eval');    reservevar('false');    reservevar('Infinity');    reservevar('NaN');    reservevar('null');    reservevar('this');    reservevar('true');    reservevar('undefined');    assignop('=', 'assign', 20);    assignop('+=', 'assignadd', 20);    assignop('-=', 'assignsub', 20);    assignop('*=', 'assignmult', 20);    assignop('/=', 'assigndiv', 20).nud = function() {        error(&quot;A regular expression literal can be confused with '/='.&quot;);    };    assignop('%=', 'assignmod', 20);    bitwiseassignop('&amp;=', 'assignbitand', 20);    bitwiseassignop('|=', 'assignbitor', 20);    bitwiseassignop('^=', 'assignbitxor', 20);    bitwiseassignop('&lt;&lt;=', 'assignshiftleft', 20);    bitwiseassignop('&gt;&gt;=', 'assignshiftright', 20);    bitwiseassignop('&gt;&gt;&gt;=', 'assignshiftrightunsigned', 20);    infix('?',    function(left) {        parse(10);        advance(':');        parse(10);    },    30);    infix('||', 'or', 40);    infix('&amp;&amp;', 'and', 50);    bitwise('|', 'bitor', 70);    bitwise('^', 'bitxor', 80);    bitwise('&amp;', 'bitand', 90);    relation('==',    function(left, right) {        if (option.eqeqeq) {            warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, this, '===', '==');        } else if (isPoorRelation(left)) {            warning(&quot;Use '{a}' to compare with '{b}'.&quot;, this, '===', left.value);        } else if (isPoorRelation(right)) {            warning(&quot;Use '{a}' to compare with '{b}'.&quot;, this, '===', right.value);        }        return this;    });    relation('===');    relation('!=',    function(left, right) {        if (option.eqeqeq) {            warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, this, '!==', '!=');        } else if (isPoorRelation(left)) {            warning(&quot;Use '{a}' to compare with '{b}'.&quot;, this, '!==', left.value);        } else if (isPoorRelation(right)) {            warning(&quot;Use '{a}' to compare with '{b}'.&quot;, this, '!==', right.value);        }        return this;    });    relation('!==');    relation('&lt;');    relation('&gt;');    relation('&lt;=');    relation('&gt;=');    bitwise('&lt;&lt;', 'shiftleft', 120);    bitwise('&gt;&gt;', 'shiftright', 120);    bitwise('&gt;&gt;&gt;', 'shiftrightunsigned', 120);    infix('in', 'in', 120);    infix('instanceof', 'instanceof', 120);    infix('+',    function(left) {        nonadjacent(prevtoken, token);        nonadjacent(token, nexttoken);        var right = parse(130);        if (left &amp;&amp; right &amp;&amp; left.id === '(string)' &amp;&amp; right.id === '(string)') {            left.value += right.value;            left.character = right.character;            if (jx.test(left.value)) {                warning(&quot;JavaScript URL.&quot;, left);            }            return left;        }        this.left = left;        this.right = right;        return this;    },    130);    prefix('+', 'num');    infix('-', 'sub', 130);    prefix('-', 'neg');    infix('*', 'mult', 140);    infix('/', 'div', 140);    infix('%', 'mod', 140);    suffix('++', 'postinc');    prefix('++', 'preinc');    syntax['++'].exps = true;    suffix('--', 'postdec');    prefix('--', 'predec');    syntax['--'].exps = true;    prefix('delete',    function() {        var p = parse(0);        if (p.id !== '.' &amp;&amp; p.id !== '[') {            warning(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, '.', nexttoken.value);        }    }).exps = true;    prefix('~',    function() {        if (option.bitwise) {            warning(&quot;Unexpected '{a}'.&quot;, this, '~');        }        parse(150);        return this;    });    prefix('!', 'not');    prefix('typeof', 'typeof');    prefix('new',    function() {        var c = parse(155),        i;        if (c &amp;&amp; c.id !== 'function') {            if (c.identifier) {                c['new'] = true;                switch (c.value) {                case 'Object':                    warning(&quot;Use the object literal notation {}.&quot;, token);                    break;                case 'Array':                    warning(&quot;Use the array literal notation [].&quot;, token);                    break;                case 'Number':                case 'String':                case 'Boolean':                case 'Math':                    warning(&quot;Do not use the {a} function as a constructor.&quot;, token, c.value);                    break;                case 'Function':                    if (!option.evil) {                        warning(&quot;The Function constructor is eval.&quot;);                    }                    break;                case 'Date':                case 'RegExp':                    break;                default:                    if (c.id !== 'function') {                        i = c.value.substr(0, 1);                        if (i &lt; 'A' || i &gt; 'Z') {                            warning(&quot;A constructor name should start with an uppercase letter.&quot;, token);                        }                    }                }            } else {                if (c.id !== '.' &amp;&amp; c.id !== '[' &amp;&amp; c.id !== '(') {                    warning(&quot;Bad constructor.&quot;, token);                }            }        } else {            warning(&quot;Weird construction. Delete 'new'.&quot;, this);        }        adjacent(token, nexttoken);        if (nexttoken.id !== '(') {            warning(&quot;Missing '()' invoking a constructor.&quot;);        }        this.first = c;        return this;    });    syntax['new'].exps = true;    infix('.',    function(left) {        adjacent(prevtoken, token);        var t = this,        m = identifier();        if (typeof m === 'string') {            countMember(m);        }        t.left = left;        t.right = m;        if (!option.evil &amp;&amp; left &amp;&amp; left.value === 'document' &amp;&amp; (m === 'write' || m === 'writeln')) {            warning(&quot;document.write can be a form of eval.&quot;, left);        }        if (option.adsafe) {            if (left &amp;&amp; left.value === 'ADSAFE') {                if (m === 'id' || m === 'lib') {                    warning(&quot;ADsafe violation.&quot;, this);                } else if (m === 'go') {                    if (xmode !== 'script') {                        warning(&quot;ADsafe violation.&quot;, this);                    } else if (adsafe_went || nexttoken.id !== '(' || peek(0).id !== '(string)' || peek(0).value !== adsafe_id || peek(1).id !== ',') {                        error(&quot;ADsafe violation: go.&quot;, this);                    }                    adsafe_went = true;                    adsafe_may = false;                }            }            for (;;) {                if (banned[m] === true) {                    warning(&quot;ADsafe restricted word '{a}'.&quot;, token, m);                }                if (predefined[left.value] !== true || nexttoken.id === '(') {                    break;                }                if (standard_member[m] === true) {                    if (nexttoken.id === '.') {                        warning(&quot;ADsafe violation.&quot;, this);                    }                    break;                }                if (nexttoken.id !== '.') {                    warning(&quot;ADsafe violation.&quot;, this);                    break;                }                advance('.');                token.left = t;                token.right = m;                t = token;                m = identifier();                if (typeof m === 'string') {                    countMember(m);                }            }        }        return t;    },    160);    infix('(',    function(left) {        adjacent(prevtoken, token);        nospace();        var n = 0,        p = [];        if (left) {            if (left.type === '(identifier)') {                if (left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)) {                    if (left.value !== 'Number' &amp;&amp; left.value !== 'String' &amp;&amp; left.value !== 'Boolean' &amp;&amp; left.value !== 'Date') {                        if (left.value === 'Math') {                            warning(&quot;Math is not a function.&quot;, left);                        } else {                            warning(&quot;Missing 'new' prefix when invoking a constructor.&quot;, left);                        }                    }                }            } else if (left.id === '.') {                if (option.safe &amp;&amp; left.left.value === 'Math' &amp;&amp; left.right === 'random') {                    warning(&quot;ADsafe violation.&quot;, left);                }            }        }        if (nexttoken.id !== ')') {            for (;;) {                p[p.length] = parse(10);                n += 1;                if (nexttoken.id !== ',') {                    break;                }                advance(',');                nonadjacent(token, nexttoken);            }        }        advance(')');        nospace(prevtoken, token);        if (typeof left === 'object') {            if (left.value === 'parseInt' &amp;&amp; n === 1) {                warning(&quot;Missing radix parameter.&quot;, left);            }            if (!option.evil) {                if (left.value === 'eval' || left.value === 'Function' || left.value === 'execScript') {                    warning(&quot;eval is evil.&quot;, left);                } else if (p[0] &amp;&amp; p[0].id === '(string)' &amp;&amp; (left.value === 'setTimeout' || left.value === 'setInterval')) {                    warning(&quot;Implied eval is evil. Pass a function instead of a string.&quot;, left);                }            }            if (!left.identifier &amp;&amp; left.id !== '.' &amp;&amp; left.id !== '[' &amp;&amp; left.id !== '(' &amp;&amp; left.id !== '&amp;&amp;' &amp;&amp; left.id !== '||' &amp;&amp; left.id !== '?') {                warning(&quot;Bad invocation.&quot;, left);            }        }        this.left = left;        return this;    },    155).exps = true;    prefix('(',    function() {        nospace();        var t = nexttoken,        v = parse(0);        advance(')', this);        nospace(prevtoken, token);        return v;    });    infix('[',    function(left) {        nospace();        var e = parse(0),        s;        if (e &amp;&amp; e.type === '(string)') {            if (option.safe &amp;&amp; banned[e.value] === true) {                warning(&quot;ADsafe restricted word '{a}'.&quot;, this, e.value);            }            countMember(e.value);            if (!option.sub &amp;&amp; ix.test(e.value)) {                s = syntax[e.value];                if (!s || !s.reserved) {                    warning(&quot;['{a}'] is better written in dot notation.&quot;, e, e.value);                }            }        } else if (!e || (e.type !== '(number)' &amp;&amp; (e.id !== '+' || e.arity !== 'unary'))) {            if (option.safe) {                warning('ADsafe subscripting.');            }        }        advance(']', this);        nospace(prevtoken, token);        this.left = left;        this.right = e;        return this;    },    160);    prefix('[',    function() {        if (nexttoken.id === ']') {            advance(']');            return;        }        var b = token.line !== nexttoken.line;        if (b) {            indent += option.indent;            if (nexttoken.from === indent + option.indent) {                indent += option.indent;            }        }        for (;;) {            if (b &amp;&amp; token.line !== nexttoken.line) {                indentation();            }            parse(10);            if (nexttoken.id === ',') {                adjacent(token, nexttoken);                advance(',');                if (nexttoken.id === ',') {                    warning(&quot;Extra comma.&quot;, token);                } else if (nexttoken.id === ']') {                    warning(&quot;Extra comma.&quot;, token);                    break;                }                nonadjacent(token, nexttoken);            } else {                if (b) {                    indent -= option.indent;                    indentation();                }                break;            }        }        advance(']', this);        return;    },    160); (function(x) {        x.nud = function() {            var b, i, s;            if (nexttoken.id === '}') {                advance('}');                return;            }            b = token.line !== nexttoken.line;            if (b) {                indent += option.indent;                if (nexttoken.from === indent + option.indent) {                    indent += option.indent;                }            }            for (;;) {                if (b) {                    indentation();                }                i = optionalidentifier(true);                if (!i) {                    if (nexttoken.id === '(string)') {                        i = nexttoken.value;                        if (ix.test(i)) {                            s = syntax[i];                        }                        advance();                    } else if (nexttoken.id === '(number)') {                        i = nexttoken.value.toString();                        advance();                    } else {                        error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, '}', nexttoken.value);                    }                }                countMember(i);                advance(':');                nonadjacent(token, nexttoken);                parse(10);                if (nexttoken.id === ',') {                    adjacent(token, nexttoken);                    advance(',');                    if (nexttoken.id === ',' || nexttoken.id === '}') {                        warning(&quot;Extra comma.&quot;, token);                    }                    nonadjacent(token, nexttoken);                } else {                    if (b) {                        indent -= option.indent;                        indentation();                    }                    advance('}', this);                    return;                }            }        };        x.fud = function() {            error(&quot;Expected to see a statement and instead saw a block.&quot;, token);        };    })(delim('{'));    function varstatement(prefix) {        if (funct['(onevar)'] &amp;&amp; option.onevar) {            warning(&quot;Too many var statements.&quot;);        } else if (!funct['(global)']) {            funct['(onevar)'] = true;        }        for (;;) {            nonadjacent(token, nexttoken);            addlabel(identifier(), 'unused');            if (prefix) {                return;            }            if (nexttoken.id === '=') {                nonadjacent(token, nexttoken);                advance('=');                nonadjacent(token, nexttoken);                if (peek(0).id === '=') {                    error(&quot;Variable {a} was not declared correctly.&quot;, nexttoken, nexttoken.value);                }                parse(20);            }            if (nexttoken.id !== ',') {                return;            }            adjacent(token, nexttoken);            advance(',');            nonadjacent(token, nexttoken);        }    }    stmt('var', varstatement);    stmt('new',    function() {        error(&quot;'new' should not be used as a statement.&quot;);    });    function functionparams() {        var i, t = nexttoken,        p = [];        advance('(');        nospace();        if (nexttoken.id === ')') {            advance(')');            nospace(prevtoken, token);            return;        }        for (;;) {            i = identifier();            p.push(i);            addlabel(i, 'parameter');            if (nexttoken.id === ',') {                advance(',');                nonadjacent(token, nexttoken);            } else {                advance(')', t);                nospace(prevtoken, token);                return p.join(', ');            }        }    }    function doFunction(i) {        var s = scope;        scope = Object.create(s);        funct = {            '(name)': i || '&quot;' + anonname + '&quot;',            '(line)': nexttoken.line + 1,            '(context)': funct,            '(breakage)': 0,            '(loopage)': 0,            '(scope)': scope        };        functions.push(funct);        if (i) {            addlabel(i, 'function');        }        funct['(params)'] = functionparams();        block(false);        scope = s;        funct = funct['(context)'];    }    blockstmt('function',    function() {        if (inblock) {            warning(&quot;Function statements cannot be placed in blocks. Use a function expression or move the statement to the top of the outer function.&quot;, token);        }        var i = identifier();        adjacent(token, nexttoken);        addlabel(i, 'unused');        doFunction(i);        if (nexttoken.id === '(' &amp;&amp; nexttoken.line === token.line) {            error(&quot;Function statements are not invocable. Wrap the function expression in parens.&quot;);        }    });    prefix('function',    function() {        var i = optionalidentifier();        if (i) {            adjacent(token, nexttoken);        } else {            nonadjacent(token, nexttoken);        }        doFunction(i);        if (funct['(loopage)'] &amp;&amp; nexttoken.id !== '(') {            warning(&quot;Be careful when making functions within a loop. Consider putting the function in a closure.&quot;);        }        return this;    });    blockstmt('if',    function() {        var t = nexttoken;        advance('(');        nonadjacent(this, t);        nospace();        parse(20);        if (nexttoken.id === '=') {            warning(&quot;Expected a conditional expression and instead saw an assignment.&quot;);            advance('=');            parse(20);        }        advance(')', t);        nospace(prevtoken, token);        block(true);        if (nexttoken.id === 'else') {            nonadjacent(token, nexttoken);            advance('else');            if (nexttoken.id === 'if' || nexttoken.id === 'switch') {                statement(true);            } else {                block(true);            }        }        return this;    });    blockstmt('try',    function() {        var b, e, s;        if (option.adsafe) {            warning(&quot;ADsafe try violation.&quot;, this);        }        block(false);        if (nexttoken.id === 'catch') {            advance('catch');            nonadjacent(token, nexttoken);            advance('(');            s = scope;            scope = Object.create(s);            e = nexttoken.value;            if (nexttoken.type !== '(identifier)') {                warning(&quot;Expected an identifier and instead saw '{a}'.&quot;, nexttoken, e);            } else {                addlabel(e, 'unused');            }            advance();            advance(')');            block(false);            b = true;            scope = s;        }        if (nexttoken.id === 'finally') {            advance('finally');            block(false);            return;        } else if (!b) {            error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, 'catch', nexttoken.value);        }    });    blockstmt('while',    function() {        var t = nexttoken;        funct['(breakage)'] += 1;        funct['(loopage)'] += 1;        advance('(');        nonadjacent(this, t);        nospace();        parse(20);        if (nexttoken.id === '=') {            warning(&quot;Expected a conditional expression and instead saw an assignment.&quot;);            advance('=');            parse(20);        }        advance(')', t);        nospace(prevtoken, token);        block(true);        funct['(breakage)'] -= 1;        funct['(loopage)'] -= 1;    }).labelled = true;    reserve('with');    blockstmt('switch',    function() {        var t = nexttoken,        g = false;        funct['(breakage)'] += 1;        advance('(');        nonadjacent(this, t);        nospace();        this.condition = parse(20);        advance(')', t);        nospace(prevtoken, token);        nonadjacent(token, nexttoken);        t = nexttoken;        advance('{');        nonadjacent(token, nexttoken);        indent += option.indent;        this.cases = [];        for (;;) {            switch (nexttoken.id) {            case 'case':                switch (funct['(verb)']) {                case 'break':                case 'case':                case 'continue':                case 'return':                case 'switch':                case 'throw':                    break;                default:                    warning(&quot;Expected a 'break' statement before 'case'.&quot;, token);                }                indentation( - option.indent);                advance('case');                this.cases.push(parse(20));                g = true;                advance(':');                funct['(verb)'] = 'case';                break;            case 'default':                switch (funct['(verb)']) {                case 'break':                case 'continue':                case 'return':                case 'throw':                    break;                default:                    warning(&quot;Expected a 'break' statement before 'default'.&quot;, token);                }                indentation( - option.indent);                advance('default');                g = true;                advance(':');                break;            case '}':                indent -= option.indent;                indentation();                advance('}', t);                if (this.cases.length === 1 || this.condition.id === 'true' || this.condition.id === 'false') {                    warning(&quot;This 'switch' should be an 'if'.&quot;, this);                }                funct['(breakage)'] -= 1;                funct['(verb)'] = undefined;                return;            case '(end)':                error(&quot;Missing '{a}'.&quot;, nexttoken, '}');                return;            default:                if (g) {                    switch (token.id) {                    case ',':                        error(&quot;Each value should have its own case label.&quot;);                        return;                    case ':':                        statements();                        break;                    default:                        error(&quot;Missing ':' on a case clause.&quot;, token);                    }                } else {                    error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, 'case', nexttoken.value);                }            }        }    }).labelled = true;    stmt('debugger',    function() {        if (!option.debug) {            warning(&quot;All 'debugger' statements should be removed.&quot;);        }    });    stmt('do',    function() {        funct['(breakage)'] += 1;        funct['(loopage)'] += 1;        block(true);        advance('while');        var t = nexttoken;        nonadjacent(token, t);        advance('(');        nospace();        parse(20);        if (nexttoken.id === '=') {            warning(&quot;Expected a conditional expression and instead saw an assignment.&quot;);            advance('=');            parse(20);        }        advance(')', t);        nospace(prevtoken, token);        funct['(breakage)'] -= 1;        funct['(loopage)'] -= 1;    }).labelled = true;    blockstmt('for',    function() {        var s, t = nexttoken;        funct['(breakage)'] += 1;        funct['(loopage)'] += 1;        advance('(');        nonadjacent(this, t);        nospace();        if (peek(nexttoken.id === 'var' ? 1 : 0).id === 'in') {            if (nexttoken.id === 'var') {                advance('var');                varstatement(true);            } else {                advance();            }            advance('in');            parse(20);            advance(')', t);            s = block(true);            if (!option.forin &amp;&amp; (s.length &gt; 1 || typeof s[0] !== 'object' || s[0].value !== 'if')) {                warning(&quot;The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.&quot;, this);            }            funct['(breakage)'] -= 1;            funct['(loopage)'] -= 1;            return this;        } else {            if (nexttoken.id !== ';') {                if (nexttoken.id === 'var') {                    advance('var');                    varstatement();                } else {                    for (;;) {                        parse(0, 'for');                        if (nexttoken.id !== ',') {                            break;                        }                        advance(',');                    }                }            }            advance(';');            if (nexttoken.id !== ';') {                parse(20);                if (nexttoken.id === '=') {                    warning(&quot;Expected a conditional expression and instead saw an assignment.&quot;);                    advance('=');                    parse(20);                }            }            advance(';');            if (nexttoken.id === ';') {                error(&quot;Expected '{a}' and instead saw '{b}'.&quot;, nexttoken, ')', ';');            }            if (nexttoken.id !== ')') {                for (;;) {                    parse(0, 'for');                    if (nexttoken.id !== ',') {                        break;                    }                    advance(',');                }            }            advance(')', t);            nospace(prevtoken, token);            block(true);            funct['(breakage)'] -= 1;            funct['(loopage)'] -= 1;        }    }).labelled = true;    stmt('break',    function() {        var v = nexttoken.value;        if (funct['(breakage)'] === 0) {            warning(&quot;Unexpected '{a}'.&quot;, nexttoken, this.value);        }        nolinebreak(this);        if (nexttoken.id !== ';') {            if (token.line === nexttoken.line) {                if (funct[v] !== 'label') {                    warning(&quot;'{a}' is not a statement label.&quot;, nexttoken, v);                } else if (scope[v] !== funct) {                    warning(&quot;'{a}' is out of scope.&quot;, nexttoken, v);                }                advance();            }        }        reachable('break');    });    stmt('continue',    function() {        var v = nexttoken.value;        if (funct['(breakage)'] === 0) {            warning(&quot;Unexpected '{a}'.&quot;, nexttoken, this.value);        }        nolinebreak(this);        if (nexttoken.id !== ';') {            if (token.line === nexttoken.line) {                if (funct[v] !== 'label') {                    warning(&quot;'{a}' is not a statement label.&quot;, nexttoken, v);                } else if (scope[v] !== funct) {                    warning(&quot;'{a}' is out of scope.&quot;, nexttoken, v);                }                advance();            }        }        reachable('continue');    });    stmt('return',    function() {        nolinebreak(this);        if (nexttoken.id === '(regexp)') {            warning(&quot;Wrap the /regexp/ literal in parens to disambiguate the slash operator.&quot;);        }        if (nexttoken.id !== ';' &amp;&amp; !nexttoken.reach) {            nonadjacent(token, nexttoken);            parse(20);        }        reachable('return');    });    stmt('throw',    function() {        nolinebreak(this);        nonadjacent(token, nexttoken);        parse(20);        reachable('throw');    });    reserve('void');    reserve('class');    reserve('const');    reserve('enum');    reserve('export');    reserve('extends');    reserve('float');    reserve('goto');    reserve('import');    reserve('let');    reserve('super');    function jsonValue() {        function jsonObject() {            var t = nexttoken;            advance('{');            if (nexttoken.id !== '}') {                for (;;) {                    if (nexttoken.id === '(end)') {                        error(&quot;Missing '}' to match '{' from line {a}.&quot;, nexttoken, t.line + 1);                    } else if (nexttoken.id === '}') {                        warning(&quot;Unexpected comma.&quot;, token);                        break;                    } else if (nexttoken.id === ',') {                        error(&quot;Unexpected comma.&quot;, nexttoken);                    } else if (nexttoken.id !== '(string)') {                        warning(&quot;Expected a string and instead saw {a}.&quot;, nexttoken, nexttoken.value);                    }                    advance();                    advance(':');                    jsonValue();                    if (nexttoken.id !== ',') {                        break;                    }                    advance(',');                }            }            advance('}');        }        function jsonArray() {            var t = nexttoken;            advance('[');            if (nexttoken.id !== ']') {                for (;;) {                    if (nexttoken.id === '(end)') {                        error(&quot;Missing ']' to match '[' from line {a}.&quot;, nexttoken, t.line + 1);                    } else if (nexttoken.id === ']') {                        warning(&quot;Unexpected comma.&quot;, token);                        break;                    } else if (nexttoken.id === ',') {                        error(&quot;Unexpected comma.&quot;, nexttoken);                    }                    jsonValue();                    if (nexttoken.id !== ',') {                        break;                    }                    advance(',');                }            }            advance(']');        }        switch (nexttoken.id) {        case '{':            jsonObject();            break;        case '[':            jsonArray();            break;        case 'true':        case 'false':        case 'null':        case '(number)':        case '(string)':            advance();            break;        case '-':            advance('-');            if (token.character !== nexttoken.from) {                warning(&quot;Unexpected space after '-'.&quot;, token);            }            adjacent(token, nexttoken);            advance('(number)');            break;        default:            error(&quot;Expected a JSON value.&quot;, nexttoken);        }    }    var itself = function(s, o) {        var a, i;        JSLINT.errors = [];        predefined = Object.create(standard);        if (o) {            a = o.predef;            if (a instanceof Array) {                for (i = 0; i &lt; a.length; i += 1) {                    predefined[a[i]] = true;                }            }            if (o.adsafe) {                o.safe = true;            }            if (o.safe) {                o.browser = false;                o.css = false;                o.debug = false;                o.eqeqeq = true;                o.evil = false;                o.forin = false;                o.nomen = true;                o.on = false;                o.rhino = false;                o.safe = true;                o.sidebar = false;                o.strict = true;                o.sub = false;                o.undef = true;                o.widget = false;                predefined.Date = false;                predefined['eval'] = false;                predefined.Function = false;                predefined.Object = false;                predefined.ADSAFE = true;            }            option = o;        } else {            option = {};        }        option.indent = option.indent || 4;        adsafe_id = '';        adsafe_may = false;        adsafe_went = false;        approved = {};        if (option.approved) {            for (i = 0; i &lt; option.approved.length; i += 1) {                approved[option.approved[i]] = option.approved[i];            }        }        approved.test = 'test';        tab = '';        for (i = 0; i &lt; option.indent; i += 1) {            tab += ' ';        }        indent = 0;        global = Object.create(predefined);        scope = global;        funct = {            '(global)': true,            '(name)': '(global)',            '(scope)': scope,            '(breakage)': 0,            '(loopage)': 0        };        functions = [];        ids = {};        urls = [];        src = false;        xmode = false;        stack = null;        member = {};        membersOnly = null;        implied = {};        inblock = false;        lookahead = [];        jsonmode = false;        warnings = 0;        lex.init(s);        prereg = true;        prevtoken = token = nexttoken = syntax['(begin)'];        assume();        try {            advance();            if (nexttoken.value.charAt(0) === '&lt;') {                html();                if (option.adsafe &amp;&amp; !adsafe_went) {                    warning(&quot;ADsafe violation: Missing ADSAFE.go.&quot;, this);                }            } else {                switch (nexttoken.id) {                case '{':                case '[':                    option.laxbreak = true;                    jsonmode = true;                    jsonValue();                    break;                case '@':                case '*':                case '#':                case '.':                case ':':                    xmode = 'style';                    advance();                    if (token.id !== '@' || !nexttoken.identifier || nexttoken.value !== 'charset') {                        error('A css file should begin with @charset &quot;UTF-8&quot;;');                    }                    advance();                    if (nexttoken.type !== '(string)' &amp;&amp; nexttoken.value !== 'UTF-8') {                        error('A css file should begin with @charset &quot;UTF-8&quot;;');                    }                    advance();                    advance(';');                    styles();                    break;                default:                    if (option.adsafe &amp;&amp; option.fragment) {                        warning(&quot;ADsafe violation.&quot;, this);                    }                    statements('lib');                }            }            advance('(end)');        } catch(e) {            if (e) {                JSLINT.errors.push({                    reason: e.message,                    line: e.line || nexttoken.line,                    character: e.character || nexttoken.from                },                null);            }        }        return JSLINT.errors.length === 0;    };    function to_array(o) {        var a = [],        k;        for (k in o) {            if (o.hasOwnProperty(k)) {                a.push(k);            }        }        return a;    }    itself.report = function(option, sep) {        var a = [],        c,        e,        f,        i,        k,        l,        m = '',        n,        o = [],        s,        v,        cl,        va,        un,        ou,        gl,        la;        function detail(h, s, sep) {            if (s.length) {                o.push('&lt;div&gt;&lt;i&gt;' + h + '&lt;/i&gt; ' + s.sort().join(sep || ', ') + '&lt;/div&gt;');            }        }        s = to_array(implied);        k = JSLINT.errors.length;        if (k || s.length &gt; 0) {            o.push('&lt;div id=errors&gt;&lt;i&gt;Error:&lt;/i&gt;');            if (s.length &gt; 0) {                s.sort();                for (i = 0; i &lt; s.length; i += 1) {                    s[i] = '&lt;code&gt;' + s[i] + '&lt;/code&gt;&amp;nbsp;&lt;i&gt;' + implied[s[i]].join(' ') + '&lt;/i&gt;';                }                o.push('&lt;p&gt;&lt;i&gt;Implied global:&lt;/i&gt; ' + s.join(', ') + '&lt;/p&gt;');                c = true;            }            for (i = 0; i &lt; k; i += 1) {                c = JSLINT.errors[i];                if (c) {                    e = c.evidence || '';                    o.push('&lt;p&gt;Problem' + (isFinite(c.line) ? ' at line ' + (c.line + 1) + ' character ' + (c.character + 1) : '') + ': ' + c.reason.entityify() + '&lt;/p&gt;&lt;p class=evidence&gt;' + (e &amp;&amp; (e.length &gt; 80 ? e.slice(0, 77) + '...': e).entityify()) + '&lt;/p&gt;');                }            }            o.push('&lt;/div&gt;');            if (!c) {                return o.join('');            }        }        if (!option) {            o.push('&lt;br&gt;&lt;div id=functions&gt;');            if (urls.length &gt; 0) {                detail(&quot;URLs&lt;br&gt;&quot;, urls, '&lt;br&gt;');            }            s = to_array(scope);            if (s.length === 0) {                if (jsonmode) {                    if (k === 0) {                        o.push('&lt;p&gt;JSON: good.&lt;/p&gt;');                    } else {                        o.push('&lt;p&gt;JSON: bad.&lt;/p&gt;');                    }                } else {                    o.push('&lt;div&gt;&lt;i&gt;No new global variables introduced.&lt;/i&gt;&lt;/div&gt;');                }            } else {                o.push('&lt;div&gt;&lt;i&gt;Global&lt;/i&gt; ' + s.sort().join(', ') + '&lt;/div&gt;');            }            for (i = 0; i &lt; functions.length; i += 1) {                f = functions[i];                cl = [];                va = [];                un = [];                ou = [];                gl = [];                la = [];                for (k in f) {                    if (f.hasOwnProperty(k) &amp;&amp; k.charAt(0) !== '(') {                        v = f[k];                        switch (v) {                        case 'closure':                            cl.push(k);                            break;                        case 'var':                            va.push(k);                            break;                        case 'unused':                            un.push(k);                            break;                        case 'label':                            la.push(k);                            break;                        case 'outer':                            ou.push(k);                            break;                        case true:                            gl.push(k);                            break;                        }                    }                }                o.push('&lt;br&gt;&lt;div class=function&gt;&lt;i&gt;' + f['(line)'] + '&lt;/i&gt; ' + (f['(name)'] || '') + '(' + (f['(params)'] || '') + ')&lt;/div&gt;');                detail('Closure', cl);                detail('Variable', va);                detail('&lt;big&gt;&lt;b&gt;Unused&lt;/b&gt;&lt;/big&gt;', un);                detail('Label', la);                detail('Outer', ou);                detail('Global', gl);            }            a = [];            for (k in member) {                if (typeof member[k] === 'number') {                    a.push(k);                }            }            if (a.length) {                a = a.sort();                m = '&lt;br&gt;&lt;pre&gt;/*members ';                l = 10;                for (i = 0; i &lt; a.length; i += 1) {                    k = a[i];                    n = k.name();                    if (l + n.length &gt; 72) {                        o.push(m + '&lt;br&gt;');                        m = '    ';                        l = 1;                    }                    l += n.length + 2;                    if (member[k] === 1) {                        n = '&lt;i&gt;' + n + '&lt;/i&gt;';                    }                    if (i &lt; a.length - 1) {                        n += ', ';                    }                    m += n;                }                o.push(m + '&lt;br&gt;*/&lt;/pre&gt;');            }            o.push('&lt;/div&gt;');        }        return o.join('');    };    return itself;} (); (function(a) {        var input=&quot;&quot;;    var line=&quot;&quot;;    var blankcount=&quot;0&quot;;    while (blankcount &lt; 10){        line=readline();        if (line==&quot;&quot;)            blankcount++;        else            blankcount=0;        if (line==&quot;END&quot;) break;        input += line;        input += &quot;\n&quot;;    }    input = input.substring(0, input.length-blankcount);    if (!input) {        print(&quot;No input!&quot;);        quit(1);    }    if (!JSLINT(input, {        rhino: true,        passfail: false    })) {        for (var i = 0; i &lt; JSLINT.errors.length; i += 1) {            var e = JSLINT.errors[i];            if (e) {                print('Lint at line ' + (e.line + 1) + ' character ' + (e.character + 1) + ': ' + e.reason);                print((e.evidence || '').replace(/^\s*(\S*(\s+\S+)*)\s*$/, &quot;$1&quot;));                print('');            }        }    } else {        print(&quot;jslint: No problems found.&quot;);        quit();    }})(arguments);" add_date="" last_modified="" shortcuturl=""></a></dt>
<dd><p></p></dd>
<dt><a href="javascript:(function read() {var css = '@namespace svg &quot;http://www.w3.org/2000/svg&quot;;* {line-height: 1.5;}body {max-width: 55em;margin: 0 auto;padding: 1em;font-family: &quot;Calibri&quot;, sans-serif;}center, [align] {text-align: left;}b, i, u, s, strike, blink {font-weight: normal;font-style: normal;text-decoration: none}pre {padding: 1ex;border: 1px dotted;}code, pre, .syntaxhighlighter {font-family: &quot;Consolas&quot;, monospace;font-size: small;background: #ffe;}img:not(:hover), input[type=&quot;image&quot;]:not(:hover), object:not(:hover), embed:not(:hover), iframe:not(:hover), canvas:not(:hover), :not(svg|*) &gt; svg|*:not(:hover) {opacity: 0.25;}.cufon-canvas canvas {display: none;}.post_share, #janrain-social-sharebar, #sharebar {display: none;left: -1000px;}.postprofile, .signature {font-size: smaller;border-top: 1px dotted;opacity: 0.5;}iframe[src*=&quot;//www.facebook.com/plugins/like.php&quot;], iframe[src*=&quot;.twitter.com/widgets/tweet_button&quot;], iframe[src*=&quot;//www.reddit.com/static/button/&quot;], iframe[src*=&quot;//www.stumbleupon.com/badge/embed/&quot;] {width: 12em;height: 4ex;border: 1px dotted;}',attrs = ['style','background', 'bgcolor', 'color', 'text', 'link', 'vlink', 'alink', 'hlink','table@width', 'tr@width', 'td@width', 'th@width', 'table@height', 'tr@height', 'td@height', 'th@height', 'colspan', 'rowspan','border','frameborder','align','face', 'font@size', 'basefont@size',],contentSelectors = [':not(body)#article','article, :not(#spotlight) &gt; :not(body).article, .articleContent','#article_top','#article_body','#article_main','.post-body','.post, .blogpost, .blogPost','[id^=&quot;post0&quot;], [id^=&quot;post1&quot;], [id^=&quot;post2&quot;], [id^=&quot;post3&quot;], [id^=&quot;post4&quot;], [id^=&quot;post5&quot;], [id^=&quot;post6&quot;], [id^=&quot;post7&quot;], [id^=&quot;post8&quot;], [id^=&quot;post9&quot;], [id^=&quot;post-0&quot;], [id^=&quot;post-1&quot;], [id^=&quot;post-2&quot;], [id^=&quot;post-3&quot;], [id^=&quot;post-4&quot;], [id^=&quot;post-5&quot;], [id^=&quot;post-6&quot;], [id^=&quot;post-7&quot;], [id^=&quot;post-8&quot;], [id^=&quot;post-9&quot;]','#entry','.entry','#content','.content','[id^=&quot;content&quot;], [class^=&quot;content&quot;]','#main','.main','h1','#header','header','.header','h2','big'],id = 'jan-css';(function execute(document) {var all = Array.prototype.slice.call(document.getElementsByTagName('*')),ourStyleSheet = document.getElementById(id),allStyleSheets = Array.prototype.slice.call(document.styleSheets),matches;window.TextResizeDetector &amp;&amp; TextResizeDetector.stopDetector &amp;&amp; TextResizeDetector.stopDetector();if (!ourStyleSheet) {(ourStyleSheet = document.createElement('style')).id = id;ourStyleSheet.innerHTML = css;document.head.appendChild(ourStyleSheet).disabled = true;}function toggleStyles() {ourStyleSheet.disabled = !ourStyleSheet.disabled;allStyleSheets.forEach(function (styleSheet, i) {if (styleSheet.ownerNode !== ourStyleSheet){if (ourStyleSheet[id + '-originally-disabled-' + i] === undefined) {ourStyleSheet[id + '-originally-disabled-' + i] = styleSheet.disabled;}if (ourStyleSheet.disabled) {styleSheet.disabled = ourStyleSheet[id + '-originally-disabled-' + i];} else {styleSheet.disabled = true;}}});all.forEach(function (elem, i) {attrs.forEach(function (attr, j) {if (!(matches = attr.match(/([^@]+)@([^@]+)/)) || (elem.tagName &amp;&amp; elem.tagName.toLowerCase() == matches[1])) {attr = matches ? matches[2] : attr;var names = { enabled: attr, disabled: id + '-' + attr };if (elem.hasAttribute(names.enabled)) {elem.setAttribute(names.disabled, elem.getAttribute(names.enabled));elem.removeAttribute(names.enabled);} else if (elem.hasAttribute(names.disabled)) {elem.setAttribute(names.enabled, elem.getAttribute(names.disabled));elem.removeAttribute(names.disabled);}}});});}function findContentElement() {if (location.hash) {contentSelectors.unshift('a[name=&quot;' + location.hash.substring(1) + '&quot;]');contentSelectors.unshift(location.hash);}for (var i = 0; i &lt; contentSelectors.length; i++) {try {var element = document.querySelector(contentSelectors[i]);if (element &amp;&amp; (element.tagName.toLowerCase() === 'a' || element.offsetWidth || element.offsetHeight)) {window.console &amp;&amp; console.log('Readable++: matching selector: ' + contentSelectors[i] + '\nElement: ', element);return element;}}catch (e) {window.console &amp;&amp; console.log('Readable++: bad selector: ' + contentSelectors[i] + '\nException: ' + e);}}}var contentElement;if (ourStyleSheet.disabled) {contentElement = findContentElement();toggleStyles();} else {toggleStyles();contentElement = findContentElement();}if (contentElement) {var top = 0;do {top += contentElement.offsetTop;} while ((contentElement = contentElement.offsetParent));window.scrollTo(0, top);}try {Array.prototype.slice.call(document.querySelectorAll('frame, iframe, object[type^=&quot;text/html&quot;], object[type^=&quot;application/xhtml+xml&quot;]')).forEach(function (elem) {execute(elem.contentDocument);});} catch (e) {}})(document);})();" add_date="1304084286" last_modified="1321218283" shortcuturl="read">Readable++</a></dt>
<dd><p>Make a page more readable by disabling all page styling and applying a
bare minimum of our own. Go to the first thing that looks like the start
of the actual content so no time is wasted scrolling past initial
navigation etc.</p></dd>
</dl>
	</dd>
</dl>
